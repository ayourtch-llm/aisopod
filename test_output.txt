   Compiling aisopod-gateway v0.1.0 (/home/ayourtch/rust/aisopod/crates/aisopod-gateway)
   Compiling aisopod v0.1.0 (/home/ayourtch/rust/aisopod/crates/aisopod)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 8.08s
     Running unittests src/lib.rs (target/debug/deps/aisopod-bf3c7d22b08c6530)

running 64 tests
test commands::auth::tests::test_auth_args_default ... ok
test commands::agent::tests::test_list_empty_agents ... ok
test commands::agent::tests::test_delete_nonexistent_agent ... ok
test commands::agent::tests::test_identity_nonexistent_agent ... ok
test commands::auth::tests::test_auth_setup_command ... ok
test commands::channels::tests::test_channel_args_default ... ok
test commands::channels::tests::test_channel_type_as_str ... ok
test commands::channels::tests::test_channel_setup_command ... ok
test commands::channels::tests::test_channel_type_value_enum ... ok
test commands::agent::tests::test_add_agent ... ok
test commands::channels::tests::test_to_pascal_case_basic ... ok
test commands::channels::tests::test_to_pascal_case_empty ... ok
test commands::channels::tests::test_to_pascal_case_single_word ... ok
test commands::channels::tests::test_to_title_case_empty ... ok
test commands::channels::tests::test_to_title_case_basic ... ok
test commands::channels::tests::test_validate_channel_name_consecutive_hyphens ... ok
test commands::channels::tests::test_copy_template_file_errors_on_missing_template ... ok
test commands::channels::tests::test_validate_channel_name_empty ... ok
test commands::channels::tests::test_copy_template_file_creates_target ... ok
test commands::channels::tests::test_validate_channel_name_invalid_chars ... ok
test commands::channels::tests::test_validate_channel_name_leading_trailing_hyphen ... ok
test commands::channels::tests::test_validate_channel_name_uppercase ... ok
test commands::channels::tests::test_validate_channel_name_valid ... ok
test commands::channels::tests::test_copy_template_file_substitutes_variables ... ok
test commands::config::tests::test_config_args_default ... ok
test commands::completions::tests::test_completions_args ... ok
test commands::config::tests::test_config_init_command ... ok
test commands::config::tests::test_config_init_with_output ... ok
test commands::config::tests::test_config_set_command ... ok
test commands::config::tests::test_is_sensitive_field ... ok
test commands::config::tests::test_load_config_or_default_no_file ... ok
test commands::daemon::tests::test_daemon_args_default ... ok
test commands::daemon::tests::test_daemon_commands_enum ... ok
test commands::daemon::tests::test_daemon_logs_args ... ok
test commands::daemon::tests::test_daemon_logs_default_args ... ok
test commands::daemon::tests::test_install_args_default ... ok
test commands::daemon::tests::test_daemon_uninstall_command ... ok
test commands::daemon::tests::test_install_args_system ... ok
test commands::doctor::tests::test_doctor_args_default ... ok
test commands::doctor::tests::test_doctor_args_verbose ... ok
test commands::message::tests::test_message_args_default ... ok
test commands::message::tests::test_message_args_with_options ... ok
test commands::migrate::tests::test_env_var_mapping_exists ... ok
test commands::migrate::tests::test_config_key_mapping_exists ... ok
test commands::migrate::tests::test_map_env_var_name ... ok
test commands::migrate::tests::test_migrate_unknown_format_error ... ok
test commands::models::tests::test_models_args_default ... ok
test commands::models::tests::test_models_list_command ... ok
test commands::onboarding::tests::test_prompt_select_valid ... ignored, requires stdin interaction - would hang in CI
test commands::onboarding::tests::test_prompt_with_default_empty ... ignored, requires stdin interaction - would hang in CI
test commands::models::tests::test_models_switch_command ... ok
test commands::sessions::tests::test_sessions_args_default ... ok
test commands::sessions::tests::test_sessions_clear_command ... ok
test commands::sessions::tests::test_sessions_list_with_filters ... ok
test commands::config::tests::test_show_config_redacts_sensitive ... ok
test commands::status::tests::test_format_duration_minutes ... ok
test commands::status::tests::test_format_duration_days ... ok
test commands::status::tests::test_format_duration_seconds ... ok
test commands::status::tests::test_format_duration_hours ... ok
test output::tests::test_output_json_mode ... ok
test output::tests::test_output_new ... ok
test output::tests::test_escape_json_string ... ok
test commands::migrate::tests::test_migrate_preserves_tools ... ok
test commands::migrate::tests::test_migrate_basic_openclaw_config ... ok

test result: ok. 62 passed; 0 failed; 2 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/main.rs (target/debug/deps/aisopod-36e4c5271ed6bb4b)

running 72 tests
test client::tests::test_clear_token ... ok
test client::tests::test_gateway_ws_url_custom_bind ... ok
test client::tests::test_gateway_ws_url_http ... ok
test client::tests::test_gateway_ws_url_custom_port ... ok
test client::tests::test_gateway_ws_url_https ... ok
test client::tests::test_token_path ... ok
test client::tests::test_load_token_nonexistent ... ok
test commands::agent::tests::test_delete_nonexistent_agent ... ok
test commands::agent::tests::test_identity_nonexistent_agent ... ok
test commands::agent::tests::test_list_empty_agents ... ok
test client::tests::test_store_and_load_token ... ok
test commands::channels::tests::test_channel_args_default ... ok
test commands::auth::tests::test_auth_args_default ... ok
test commands::channels::tests::test_channel_type_as_str ... ok
test commands::channels::tests::test_channel_setup_command ... ok
test commands::auth::tests::test_auth_setup_command ... ok
test commands::channels::tests::test_channel_type_value_enum ... ok
test commands::channels::tests::test_to_pascal_case_basic ... ok
test commands::agent::tests::test_add_agent ... ok
test commands::channels::tests::test_copy_template_file_errors_on_missing_template ... ok
test commands::channels::tests::test_copy_template_file_creates_target ... ok
test commands::channels::tests::test_to_pascal_case_empty ... ok
test commands::channels::tests::test_to_title_case_basic ... ok
test commands::channels::tests::test_to_title_case_empty ... ok
test commands::channels::tests::test_validate_channel_name_consecutive_hyphens ... ok
test commands::channels::tests::test_to_pascal_case_single_word ... ok
test commands::channels::tests::test_validate_channel_name_empty ... ok
test commands::channels::tests::test_copy_template_file_substitutes_variables ... ok
test commands::channels::tests::test_validate_channel_name_invalid_chars ... ok
test commands::channels::tests::test_validate_channel_name_uppercase ... ok
test commands::channels::tests::test_validate_channel_name_leading_trailing_hyphen ... ok
test commands::completions::tests::test_completions_args ... ok
test commands::channels::tests::test_validate_channel_name_valid ... ok
test commands::config::tests::test_config_args_default ... ok
test commands::config::tests::test_config_init_command ... ok
test commands::config::tests::test_config_init_with_output ... ok
test commands::config::tests::test_config_set_command ... ok
test commands::config::tests::test_is_sensitive_field ... ok
test commands::config::tests::test_load_config_or_default_no_file ... ok
test commands::daemon::tests::test_daemon_args_default ... ok
test commands::daemon::tests::test_daemon_commands_enum ... ok
test commands::daemon::tests::test_daemon_logs_args ... ok
test commands::daemon::tests::test_daemon_logs_default_args ... ok
test commands::daemon::tests::test_daemon_uninstall_command ... ok
test commands::daemon::tests::test_install_args_default ... ok
test commands::daemon::tests::test_install_args_system ... ok
test commands::doctor::tests::test_doctor_args_default ... ok
test commands::doctor::tests::test_doctor_args_verbose ... ok
test commands::message::tests::test_message_args_default ... ok
test commands::message::tests::test_message_args_with_options ... ok
test commands::migrate::tests::test_env_var_mapping_exists ... ok
test commands::migrate::tests::test_config_key_mapping_exists ... ok
test commands::migrate::tests::test_map_env_var_name ... ok
test commands::migrate::tests::test_migrate_unknown_format_error ... ok
test commands::models::tests::test_models_args_default ... ok
test commands::models::tests::test_models_list_command ... ok
test commands::onboarding::tests::test_prompt_select_valid ... ignored, requires stdin interaction - would hang in CI
test commands::onboarding::tests::test_prompt_with_default_empty ... ignored, requires stdin interaction - would hang in CI
test commands::models::tests::test_models_switch_command ... ok
test commands::sessions::tests::test_sessions_args_default ... ok
test commands::sessions::tests::test_sessions_clear_command ... ok
test commands::sessions::tests::test_sessions_list_with_filters ... ok
test commands::config::tests::test_show_config_redacts_sensitive ... ok
test commands::status::tests::test_format_duration_days ... ok
test commands::status::tests::test_format_duration_hours ... ok
test commands::status::tests::test_format_duration_minutes ... ok
test commands::status::tests::test_format_duration_seconds ... ok
test output::tests::test_escape_json_string ... ok
test output::tests::test_output_json_mode ... ok
test output::tests::test_output_new ... ok
test commands::migrate::tests::test_migrate_preserves_tools ... ok
test commands::migrate::tests::test_migrate_basic_openclaw_config ... ok

test result: ok. 70 passed; 0 failed; 2 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/cli_tests.rs (target/debug/deps/cli_tests-f83acba318dabd99)

running 22 tests
test test_parse_completions ... ok
test test_parse_channels_command ... ok
test test_parse_agent_list ... ok
test test_parse_config_set ... ok
test test_parse_agent_add ... ok
test test_parse_auth_command ... ok
test test_parse_dashboard_command ... ok
test test_parse_doctor_command ... ok
test test_parse_daemon_command ... ok
test test_parse_gateway_defaults ... ok
test test_parse_gateway_with_flags ... ok
test test_parse_global_flags ... ok
test test_parse_health_command ... ok
test test_parse_message_with_channel ... ok
test test_parse_onboarding_command ... ok
test test_parse_models_list ... ok
test test_parse_models_switch ... ok
test test_parse_reset_command ... ok
test test_parse_status_command ... ok
test test_parse_sessions_command ... ok
test integration::test_version_output ... ok
test integration::test_help_output ... ok

test result: ok. 22 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.01s

     Running tests/deployment_tests.rs (target/debug/deps/deployment_tests-5eafca7a79603583)

running 2 tests
test docker_container_starts_and_responds ... ignored, Docker container test - requires Docker daemon and built image
test docker_image_builds ... ignored, Docker build test - requires Docker daemon

test result: ok. 0 passed; 0 failed; 2 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/integration_tests.rs (target/debug/deps/integration_tests-3abdcb00bff489e1)

running 8 tests
test deployment_smoke_tests::docker_container_starts_and_responds ... ignored, Docker container test - requires Docker daemon and built image
test deployment_smoke_tests::docker_image_builds ... ignored, Docker build test - requires Docker daemon
test migration_tests::test_env_var_mapping ... ok
test migration_tests::test_config_key_mapping ... ok
test migration_tests::test_map_env_var_name ... ok
test migration_tests::test_migrate_openclaw_empty_models ... ok
test migration_tests::test_migrate_openclaw_with_auth ... ok
test migration_tests::test_migrate_openclaw_basic_config ... ok

test result: ok. 6 passed; 0 failed; 2 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/mod.rs (target/debug/deps/mod-dc3c0e8dac44d8a4)

running 10 tests
test deployment_tests::docker_container_starts_and_responds ... ignored, Docker container test - requires Docker daemon and built image
test deployment_tests::docker_image_builds ... ignored, Docker build test - requires Docker daemon
test integration_tests::deployment_smoke_tests::docker_container_starts_and_responds ... ignored, Docker container test - requires Docker daemon and built image
test integration_tests::deployment_smoke_tests::docker_image_builds ... ignored, Docker build test - requires Docker daemon
test integration_tests::migration_tests::test_env_var_mapping ... ok
test integration_tests::migration_tests::test_map_env_var_name ... ok
test integration_tests::migration_tests::test_config_key_mapping ... ok
test integration_tests::migration_tests::test_migrate_openclaw_empty_models ... ok
test integration_tests::migration_tests::test_migrate_openclaw_basic_config ... ok
test integration_tests::migration_tests::test_migrate_openclaw_with_auth ... ok

test result: ok. 6 passed; 0 failed; 4 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/lib.rs (target/debug/deps/aisopod_agent-e6a4d9037c46254c)

running 116 tests
test abort::tests::test_abort_handle_new ... ok
test abort::tests::test_abort_handle_abort ... ok
test binding::tests::test_agent_binding_evaluate_match ... ok
test binding::tests::test_agent_binding_evaluate_no_match ... ok
test binding::tests::test_agent_binding_evaluate_with_peer_match ... ok
test abort::tests::test_abort_registry_insert_get_remove ... ok
test abort::tests::test_abort_registry_insert_duplicate ... ok
test binding::tests::test_agent_binding_with_priority ... ok
test binding::tests::test_agent_binding_new ... ok
test binding::tests::test_binding_match_matches_all_fields ... ok
test binding::tests::test_binding_match_new ... ok
test binding::tests::test_binding_match_matches_partial_fields ... ok
test binding::tests::test_binding_match_no_match ... ok
test binding::tests::test_peer_match_any ... ok
test binding::tests::test_peer_match_id ... ok
test compaction::tests::test_adaptive_chunking_no_op_when_under_limit ... ok
test compaction::tests::test_compaction_strategy_default ... ok
test compaction::tests::test_estimate_token_count ... ok
test compaction::tests::test_hard_clear_no_op_when_under_limit ... ok
test compaction::tests::test_adaptive_chunking ... ok
test compaction::tests::test_select_strategy_adaptive_chunking ... ok
test compaction::tests::test_hard_clear_truncates ... ok
test compaction::tests::test_select_strategy_summary ... ok
test compaction::tests::test_summary_no_op_when_under_limit ... ok
test compaction::tests::test_select_strategy_hard_clear ... ok
test compaction::tests::test_summary_strategy ... ok
test context_guard::tests::test_available_tokens ... ok
test context_guard::tests::test_context_window_guard_creation ... ok
test compaction::tests::test_tool_result_truncation ... ok
test context_guard::tests::test_from_compaction_config ... ok
test context_guard::tests::test_from_config_default_values ... ok
test context_guard::tests::test_is_safe ... ok
test context_guard::tests::test_needs_compaction ... ok
test context_guard::tests::test_severity_critical ... ok
test context_guard::tests::test_severity_none ... ok
test context_guard::tests::test_severity_warn ... ok
test failover::tests::test_classify_error_auth_failed ... ok
test failover::tests::test_classify_error_context_length_exceeded ... ok
test failover::tests::test_classify_error_model_not_found ... ok
test failover::tests::test_classify_error_rate_limited ... ok
test failover::tests::test_classify_error_server_error ... ok
test failover::tests::test_classify_error_unknown ... ok
test failover::tests::test_failover_state_advance ... ok
test failover::tests::test_failover_state_new ... ok
test failover::tests::test_failover_state_record_attempt ... ok
test failover::tests::test_failover_state_with_fallbacks ... ok
test memory::tests::test_memory_config_default ... ok
test failover::tests::test_execute_with_failover_success_first_attempt ... ok
test failover::tests::test_execute_with_failover_all_models_exhausted ... ok
test failover::tests::test_execute_with_failover_failover_on_auth_error ... ok
test memory::tests::test_memory_tool_name ... ok
test failover::tests::test_execute_with_failover_timeout_fails_over ... ok
test memory::tests::test_memory_tool_schema ... ok
test pipeline::tests::test_agent_run_stream_into_receiver ... ok
test pipeline::tests::test_agent_run_stream_new ... ok
test prompt::tests::test_build_with_only_base_prompt ... ok
test prompt::tests::test_empty_memory_context ... ok
test prompt::tests::test_dynamic_context_timestamp ... ok
test prompt::tests::test_empty_skill_instructions ... ok
test prompt::tests::test_empty_tool_descriptions ... ok
test prompt::tests::test_new_builder_is_empty ... ok
test prompt::tests::test_multiple_sections_order ... ok
test prompt::tests::test_build_with_all_sections ... ok
test prompt::tests::test_with_base_prompt ... ok
test prompt::tests::test_tool_descriptions_formatting ... ok
test prompt::tests::test_workspace_info_in_dynamic_context ... ok
test resolution::tests::test_list_agent_ids_empty ... ok
test resolution::tests::test_model_chain_all_models ... ok
test resolution::tests::test_model_chain_new ... ok
test resolution::tests::test_model_chain_with_fallbacks ... ok
test resolution::tests::test_resolution_config_default ... ok
test resolution::tests::test_resolution_config_with_priority ... ok
test resolution::tests::test_resolve_agent_config_not_found ... ok
test resolution::tests::test_resolve_agent_model_not_found ... ok
test subagent::tests::test_agent_run_params_default_depth ... ok
test subagent::tests::test_agent_run_params_with_depth ... ok
test subagent::tests::test_agent_run_params_with_depth_and_agent ... ok
test subagent::tests::test_agent_run_params_with_thread_id ... ok
test subagent::tests::test_agent_run_params_with_thread_id_none ... ok
test subagent::tests::test_resource_budget_deduct ... ok
test subagent::tests::test_resource_budget_deduct_insufficient ... ok
test subagent::tests::test_resource_budget_deduct_updates_remaining ... ok
test subagent::tests::test_resource_budget_new ... ok
test subagent::tests::test_resource_budget_has_budget ... ok
test subagent::tests::test_subagent_spawn_params_new ... ok
test subagent::tests::test_resource_budget_with_max_and_remaining ... ok
test subagent::tests::test_subagent_spawn_params_with_thread_id ... ok
test transcript::tests::test_anthropic_consecutive_assistant_messages ... ok
test transcript::tests::test_anthropic_consecutive_user_messages ... ok
test transcript::tests::test_anthropic_single_message_assistant ... ok
test transcript::tests::test_anthropic_empty_sequence ... ok
test transcript::tests::test_anthropic_single_message_user ... ok
test transcript::tests::test_anthropic_starts_with_assistant ... ok
test transcript::tests::test_anthropic_valid_alternating_sequence ... ok
test transcript::tests::test_gemini_consecutive_user_messages ... ok
test transcript::tests::test_gemini_starts_with_assistant ... ok
test transcript::tests::test_gemini_valid_sequence_unchanged ... ok
test transcript::tests::test_openai_system_message_at_start ... ok
test transcript::tests::test_openai_multiple_system_messages_deduplicated ... ok
test transcript::tests::test_openai_valid_sequence_unchanged ... ok
test transcript::tests::test_other_provider_pass_through ... ok
test transcript::tests::test_provider_kind_enum ... ok
test transcript::tests::test_synthetic_messages_have_markers ... ok
test usage::tests::test_empty_usage_report_fields ... ok
test usage::tests::test_accumulation_across_requests ... ok
test usage::tests::test_nonexistent_session ... ok
test usage::tests::test_new_tracker_has_empty_maps ... ok
test usage::tests::test_per_agent_aggregation ... ok
test usage::tests::test_record_single_request ... ok
test usage::tests::test_reset_session ... ok
test usage::tests::test_usage_report_with_large_numbers ... ok
test usage::tests::test_concurrent_access ... ok
test runner::tests::test_agent_runner_new ... ok
test binding::tests::test_peer_match_pattern ... ok
test failover::tests::test_execute_with_failover_rate_limit_with_wait ... ok
test runner::tests::test_agent_runner_memory_tool_registered ... ok

test result: ok. 116 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.06s

     Running tests/abort.rs (target/debug/deps/abort-73d262ad02af1d0b)

running 15 tests
test test_abort_handle_abort ... ok
test test_abort_handle_clone ... ok
test test_abort_handle_new ... ok
test test_abort_handle_session_key ... ok
test test_abort_handle_token ... ok
test test_abort_handle_cancelled_future ... ok
test test_abort_registry_insert_duplicate ... ok
test test_abort_registry_contains_key ... ok
test test_abort_registry_clear_all ... ok
test test_abort_registry_multiple_sessions ... ok
test test_abort_registry_insert_get_remove ... ok
test test_abort_registry_len_is_empty ... ok
test test_abort_registry_remove_nonexistent ... ok
test test_abort_registry_replace_handle ... ok
test test_notify_abort ... ok

test result: ok. 15 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/compaction.rs (target/debug/deps/compaction-cd0056c14fb0c6de)

running 16 tests
test test_adaptive_chunking ... ok
test test_adaptive_chunking_no_op_when_under_limit ... ok
test test_compact_messages_empty_list ... ok
test test_compact_messages_preserves_role ... ok
test test_compact_messages_with_empty_strategy ... ok
test test_compaction_strategy_default ... ok
test test_compaction_strategy_enum ... ok
test test_estimate_token_count ... ok
test test_hard_clear_no_op_when_under_limit ... ok
test test_hard_clear_truncates ... ok
test test_select_strategy_adaptive_chunking ... ok
test test_select_strategy_hard_clear ... ok
test test_select_strategy_summary ... ok
test test_summary_no_op_when_under_limit ... ok
test test_summary_strategy ... ok
test test_tool_result_truncation ... ok

test result: ok. 16 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/failover.rs (target/debug/deps/failover-739114a83df90a9e)

running 21 tests
test test_classify_error_authentication_failed ... ok
test test_classify_error_invalid_request ... ok
test test_classify_error_context_length_exceeded ... ok
test test_classify_error_rate_limited_default_retry ... ok
test test_classify_error_network_error ... ok
test test_classify_error_model_not_found ... ok
test test_classify_error_rate_limited_with_retry_after ... ok
test test_classify_error_server_error ... ok
test test_classify_error_stream_closed ... ok
test test_classify_error_unknown ... ok
test test_failover_action_enum ... ok
test test_failover_state_advance ... ok
test test_failover_state_can_retry_current_model ... ok
test test_failover_state_initialization_with_single_model ... ok
test test_failover_state_last_attempt ... ok
test test_failover_state_max_attempts_default ... ok
test test_failover_state_new ... ok
test test_failover_state_record_attempt ... ok
test test_failover_state_with_fallbacks ... ok
test test_model_attempt_new ... ok
test test_model_attempt_with_error ... ok

test result: ok. 21 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/helpers.rs (target/debug/deps/helpers-975d742fb1543b4c)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/mod.rs (target/debug/deps/mod-9ef71ae34d8bdc14)

running 138 tests
test abort::test_abort_handle_clone ... ok
test abort::test_abort_handle_abort ... ok
test abort::test_abort_handle_new ... ok
test abort::test_abort_handle_session_key ... ok
test abort::test_abort_handle_token ... ok
test abort::test_abort_handle_cancelled_future ... ok
test abort::test_abort_registry_contains_key ... ok
test abort::test_abort_registry_insert_duplicate ... ok
test abort::test_abort_registry_insert_get_remove ... ok
test abort::test_abort_registry_clear_all ... ok
test abort::test_abort_registry_len_is_empty ... ok
test abort::test_abort_registry_replace_handle ... ok
test abort::test_abort_registry_remove_nonexistent ... ok
test compaction::test_adaptive_chunking ... ok
test compaction::test_adaptive_chunking_no_op_when_under_limit ... ok
test abort::test_abort_registry_multiple_sessions ... ok
test compaction::test_compact_messages_preserves_role ... ok
test compaction::test_compact_messages_empty_list ... ok
test compaction::test_compact_messages_with_empty_strategy ... ok
test abort::test_notify_abort ... ok
test compaction::test_compaction_strategy_default ... ok
test compaction::test_compaction_strategy_enum ... ok
test compaction::test_estimate_token_count ... ok
test compaction::test_hard_clear_no_op_when_under_limit ... ok
test compaction::test_select_strategy_adaptive_chunking ... ok
test compaction::test_hard_clear_truncates ... ok
test compaction::test_select_strategy_hard_clear ... ok
test compaction::test_select_strategy_summary ... ok
test compaction::test_summary_no_op_when_under_limit ... ok
test compaction::test_summary_strategy ... ok
test failover::test_classify_error_authentication_failed ... ok
test failover::test_classify_error_context_length_exceeded ... ok
test compaction::test_tool_result_truncation ... ok
test failover::test_classify_error_invalid_request ... ok
test failover::test_classify_error_model_not_found ... ok
test failover::test_classify_error_network_error ... ok
test failover::test_classify_error_rate_limited_default_retry ... ok
test failover::test_classify_error_rate_limited_with_retry_after ... ok
test failover::test_classify_error_server_error ... ok
test failover::test_classify_error_stream_closed ... ok
test failover::test_classify_error_unknown ... ok
test failover::test_failover_action_enum ... ok
test failover::test_failover_state_advance ... ok
test failover::test_failover_state_can_retry_current_model ... ok
test failover::test_failover_state_initialization_with_single_model ... ok
test failover::test_failover_state_last_attempt ... ok
test failover::test_failover_state_max_attempts_default ... ok
test failover::test_failover_state_new ... ok
test failover::test_failover_state_record_attempt ... ok
test failover::test_failover_state_with_fallbacks ... ok
test failover::test_model_attempt_new ... ok
test failover::test_model_attempt_with_error ... ok
test pipeline::test_agent_run_stream_into_receiver ... ok
test pipeline::test_agent_run_stream_new ... ok
test pipeline::test_agent_run_stream_receiver ... ok
test pipeline::test_agent_pipeline_new ... ok
test pipeline::test_agent_pipeline_new_with_abort_registry ... ok
test pipeline::test_agent_pipeline_new_with_usage_tracker ... ok
test pipeline::test_pipeline_error_handling ... ok
test pipeline::test_pipeline_event_order ... ok
test pipeline::test_pipeline_with_tool_call ... ok
test pipeline::test_pipeline_text_only_response ... ok
test prompt::test_prompt_section_new ... ok
test prompt::test_system_prompt_builder_build ... ok
test prompt::test_system_prompt_builder_empty_memory_context ... ok
test prompt::test_system_prompt_builder_empty_tool_descriptions ... ok
test prompt::test_system_prompt_builder_multiple_sections_concatenated ... ok
test prompt::test_system_prompt_builder_new ... ok
test pipeline::test_pipeline_with_multiple_tool_calls ... ok
test prompt::test_system_prompt_builder_section_order ... ok
test prompt::test_system_prompt_builder_with_base_prompt ... ok
test prompt::test_system_prompt_builder_with_all_sections ... ok
test prompt::test_system_prompt_builder_with_memory_context ... ok
test prompt::test_system_prompt_builder_with_skill_instructions ... ok
test prompt::test_system_prompt_builder_with_tool_descriptions ... ok
test resolution::test_full_resolution_flow ... ok
test resolution::test_list_agent_ids ... ok
test resolution::test_list_agent_ids_empty ... ok
test resolution::test_model_chain_all_models ... ok
test resolution::test_model_chain_fallbacks ... ok
test resolution::test_model_chain_primary ... ok
test resolution::test_resolution_with_priority ... ok
test resolution::test_resolve_agent_config_default ... ok
test resolution::test_resolve_agent_config_not_found ... ok
test resolution::test_resolve_agent_config_success ... ok
test resolution::test_resolve_agent_model_not_found ... ok
test resolution::test_resolve_agent_model_success ... ok
test resolution::test_resolve_agent_model_with_fallbacks ... ok
test resolution::test_resolve_session_agent_id_default_fallback ... ok
test resolution::test_resolve_session_agent_id_no_agents ... ok
test resolution::test_resolve_session_agent_id_no_bindings ... ok
test resolution::test_resolve_session_agent_id_with_binding ... ok
test subagent::test_agent_run_params_default_depth ... ok
test subagent::test_agent_run_params_with_depth ... ok
test subagent::test_agent_run_params_with_depth_and_agent ... ok
test subagent::test_agent_run_params_with_large_depth ... ok
test subagent::test_agent_run_params_with_thread_id ... ok
test subagent::test_agent_run_params_with_thread_id_none ... ok
test subagent::test_resource_budget_deduct ... ok
test subagent::test_resource_budget_deduct_insufficient ... ok
test subagent::test_resource_budget_deduct_updates_remaining ... ok
test subagent::test_resource_budget_exact_budget ... ok
test subagent::test_resource_budget_has_budget ... ok
test subagent::test_resource_budget_large_numbers ... ok
test subagent::test_resource_budget_multiple_deductions ... ok
test subagent::test_resource_budget_new ... ok
test subagent::test_resource_budget_with_max_and_remaining ... ok
test subagent::test_resource_budget_zero_budget ... ok
test subagent::test_subagent_spawn_params_clone ... ok
test subagent::test_subagent_spawn_params_new ... ok
test subagent::test_subagent_spawn_params_with_thread_id ... ok
test transcript::test_anthropic_consecutive_assistant_messages ... ok
test transcript::test_anthropic_consecutive_user_messages ... ok
test transcript::test_anthropic_empty_sequence ... ok
test transcript::test_anthropic_single_message_assistant ... ok
test transcript::test_anthropic_single_message_user ... ok
test transcript::test_anthropic_starts_with_assistant ... ok
test transcript::test_anthropic_valid_alternating_sequence ... ok
test transcript::test_gemini_consecutive_user_messages ... ok
test transcript::test_gemini_starts_with_assistant ... ok
test transcript::test_gemini_valid_sequence_unchanged ... ok
test transcript::test_openai_multiple_system_messages_deduplicated ... ok
test transcript::test_openai_system_message_at_start ... ok
test transcript::test_openai_valid_sequence_unchanged ... ok
test transcript::test_other_provider_pass_through ... ok
test transcript::test_provider_kind_enum ... ok
test transcript::test_synthetic_messages_have_markers ... ok
test usage::test_accumulation_across_requests ... ok
test usage::test_empty_usage_report_fields ... ok
test usage::test_agent_keys_returns_all_keys ... ok
test usage::test_new_tracker_has_empty_maps ... ok
test usage::test_nonexistent_session ... ok
test usage::test_per_agent_aggregation ... ok
test usage::test_record_single_request ... ok
test usage::test_session_keys_returns_all_keys ... ok
test usage::test_reset_session ... ok
test usage::test_usage_report_with_large_numbers ... ok
test usage::test_concurrent_access ... ok

test result: ok. 138 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.04s

     Running tests/pipeline.rs (target/debug/deps/pipeline-cdea965ee15be989)

running 11 tests
test test_agent_run_stream_new ... ok
test test_agent_run_stream_into_receiver ... ok
test test_agent_run_stream_receiver ... ok
test test_agent_pipeline_new_with_abort_registry ... ok
test test_agent_pipeline_new_with_usage_tracker ... ok
test test_agent_pipeline_new ... ok
test test_pipeline_with_tool_call ... ok
test test_pipeline_error_handling ... ok
test test_pipeline_text_only_response ... ok
test test_pipeline_event_order ... ok
test test_pipeline_with_multiple_tool_calls ... ok

test result: ok. 11 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.01s

     Running tests/prompt.rs (target/debug/deps/prompt-a0e0fda1d7be4637)

running 12 tests
test test_prompt_section_new ... ok
test test_system_prompt_builder_build ... ok
test test_system_prompt_builder_empty_memory_context ... ok
test test_system_prompt_builder_multiple_sections_concatenated ... ok
test test_system_prompt_builder_empty_tool_descriptions ... ok
test test_system_prompt_builder_new ... ok
test test_system_prompt_builder_section_order ... ok
test test_system_prompt_builder_with_all_sections ... ok
test test_system_prompt_builder_with_base_prompt ... ok
test test_system_prompt_builder_with_memory_context ... ok
test test_system_prompt_builder_with_skill_instructions ... ok
test test_system_prompt_builder_with_tool_descriptions ... ok

test result: ok. 12 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/resolution.rs (target/debug/deps/resolution-d69528b7da0424fc)

running 17 tests
test test_full_resolution_flow ... ok
test test_list_agent_ids ... ok
test test_model_chain_all_models ... ok
test test_list_agent_ids_empty ... ok
test test_model_chain_fallbacks ... ok
test test_model_chain_primary ... ok
test test_resolution_with_priority ... ok
test test_resolve_agent_config_default ... ok
test test_resolve_agent_config_not_found ... ok
test test_resolve_agent_config_success ... ok
test test_resolve_agent_model_not_found ... ok
test test_resolve_agent_model_success ... ok
test test_resolve_agent_model_with_fallbacks ... ok
test test_resolve_session_agent_id_default_fallback ... ok
test test_resolve_session_agent_id_no_agents ... ok
test test_resolve_session_agent_id_no_bindings ... ok
test test_resolve_session_agent_id_with_binding ... ok

test result: ok. 17 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/subagent.rs (target/debug/deps/subagent-904bf05f9cd989fd)

running 19 tests
test test_agent_run_params_default_depth ... ok
test test_agent_run_params_with_depth ... ok
test test_agent_run_params_with_large_depth ... ok
test test_agent_run_params_with_depth_and_agent ... ok
test test_agent_run_params_with_thread_id ... ok
test test_agent_run_params_with_thread_id_none ... ok
test test_resource_budget_deduct ... ok
test test_resource_budget_deduct_insufficient ... ok
test test_resource_budget_deduct_updates_remaining ... ok
test test_resource_budget_exact_budget ... ok
test test_resource_budget_has_budget ... ok
test test_resource_budget_large_numbers ... ok
test test_resource_budget_multiple_deductions ... ok
test test_resource_budget_new ... ok
test test_resource_budget_with_max_and_remaining ... ok
test test_resource_budget_zero_budget ... ok
test test_subagent_spawn_params_clone ... ok
test test_subagent_spawn_params_new ... ok
test test_subagent_spawn_params_with_thread_id ... ok

test result: ok. 19 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/transcript.rs (target/debug/deps/transcript-e62be074be687aea)

running 16 tests
test test_anthropic_consecutive_assistant_messages ... ok
test test_anthropic_consecutive_user_messages ... ok
test test_anthropic_empty_sequence ... ok
test test_anthropic_single_message_assistant ... ok
test test_anthropic_single_message_user ... ok
test test_anthropic_starts_with_assistant ... ok
test test_anthropic_valid_alternating_sequence ... ok
test test_gemini_consecutive_user_messages ... ok
test test_gemini_starts_with_assistant ... ok
test test_gemini_valid_sequence_unchanged ... ok
test test_openai_multiple_system_messages_deduplicated ... ok
test test_openai_system_message_at_start ... ok
test test_openai_valid_sequence_unchanged ... ok
test test_other_provider_pass_through ... ok
test test_synthetic_messages_have_markers ... ok
test test_provider_kind_enum ... ok

test result: ok. 16 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/usage.rs (target/debug/deps/usage-d7871c65fa62da80)

running 11 tests
test test_empty_usage_report_fields ... ok
test test_accumulation_across_requests ... ok
test test_nonexistent_session ... ok
test test_agent_keys_returns_all_keys ... ok
test test_new_tracker_has_empty_maps ... ok
test test_reset_session ... ok
test test_per_agent_aggregation ... ok
test test_record_single_request ... ok
test test_session_keys_returns_all_keys ... ok
test test_usage_report_with_large_numbers ... ok
test test_concurrent_access ... ok

test result: ok. 11 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/lib.rs (target/debug/deps/aisopod_channel-29ec7ed444fa3f7f)

running 121 tests
test channel::tests::test_add_alias_for_nonexistent_channel ... ok
test channel::tests::test_add_alias ... ok
test channel::tests::test_add_same_alias_twice_replaces ... ok
test channel::tests::test_contains_alias ... ok
test channel::tests::test_default_registry ... ok
test channel::tests::test_contains_channel ... ok
test channel::tests::test_get_via_alias ... ok
test channel::tests::test_get_via_nonexistent_alias ... ok
test channel::tests::test_get_via_canonical_id ... ok
test channel::tests::test_list_channel_plugins ... ok
test channel::tests::test_list_channels ... ok
test channel::tests::test_normalize_id_not_found ... ok
test channel::tests::test_normalize_id_via_alias ... ok
test channel::tests::test_new_registry_is_empty ... ok
test channel::tests::test_register_channel ... ok
test channel::tests::test_register_different_channels ... ok
test channel::tests::test_normalize_id_direct ... ok
test channel::tests::test_register_same_channel_twice_replaces ... ok
test channel::tests::test_remove_alias ... ok
test channel::tests::test_unregister_channel ... ok
test channel::tests::test_unregister_nonexistent_channel ... ok
test media::tests::test_detect_media_type_audio ... ok
test media::tests::test_detect_media_type_by_extension ... ok
test media::tests::test_detect_media_type_gif ... ok
test media::tests::test_detect_media_type_jpeg ... ok
test media::tests::test_detect_media_type_other ... ok
test media::tests::test_detect_media_type_pdf ... ok
test media::tests::test_detect_media_type_png ... ok
test media::tests::test_detect_media_type_video ... ok
test media::tests::test_detect_mime_type_jpeg ... ok
test media::tests::test_detect_mime_type_png ... ok
test media::tests::test_validate_media_disabled ... ok
test media::tests::test_validate_media_not_supported ... ok
test media::tests::test_validate_media_success ... ok
test router::tests::test_is_bot_mentioned_with_at ... ok
test router::tests::test_normalize ... ok
test router::tests::test_session_key_creation ... ok
test security::tests::test_check_dm_policy_with_adapter_allows_allowed_sender ... ok
test security::tests::test_check_dm_policy_with_adapter_rejects_unauthorized_sender ... ok
test security::tests::test_check_dm_policy_without_adapter_allows_all ... ok
test security::tests::test_check_mention_dm_with_requires_mention ... ok
test security::tests::test_check_mention_group_with_mention ... ok
test security::tests::test_check_mention_group_without_mention ... ok
test security::tests::test_check_mention_group_without_requirement ... ok
test security::tests::test_check_mention_without_adapter_allows_all ... ok
test security::tests::test_check_sender_with_adapter_allows_allowed_sender ... ok
test security::tests::test_check_sender_with_adapter_rejects_unauthorized_sender ... ok
test security::tests::test_check_sender_without_adapter_allows_all ... ok
test security::tests::test_contains_bot_mention_multiple_bots ... ok
test security::tests::test_contains_bot_mention_no_mention ... ok
test security::tests::test_contains_bot_mention_with_angle_brackets ... ok
test security::tests::test_contains_bot_mention_with_at ... ok
test util::connection::tests::test_connection_config_default ... ok
test util::connection::tests::test_connection_manager_creation ... ok
test util::connection::tests::test_connection_state_creation ... ok
test util::connection::tests::test_connection_state_is_active ... ok
test util::connection::tests::test_connection_state_is_connecting ... ok
test util::connection::tests::test_connection_state_is_lost ... ok
test util::connection::tests::test_can_retry_with_limit ... ok
test util::connection::tests::test_can_retry_unlimited ... ok
test util::connection::tests::test_connection_state_transitions ... ok
test util::connection::tests::test_exponential_backoff ... ok
test util::connection::tests::test_maintain_connection_success ... ok
test util::connection::tests::test_watch_channel ... ok
test util::connection::tests::test_stats_tracking ... ok
test util::connection::tests::test_max_delay_cap ... ok
test util::connection::tests::test_reset_backoff ... ok
test util::errors::tests::test_channel_error_display ... ok
test util::errors::tests::test_comprehensive_error_handling ... ok
test util::errors::tests::test_media_unsupported ... ok
test util::errors::tests::test_message_too_long ... ok
test util::errors::tests::test_generic_error ... ok
test util::errors::tests::test_not_found ... ok
test util::errors::tests::test_platform_error ... ok
test util::errors::tests::test_rate_limited_error ... ok
test util::errors::tests::test_retry_after_duration ... ok
test util::errors::tests::test_should_retry ... ok
test util::errors::tests::test_utility_methods ... ok
test util::formatting::tests::test_code_block_formatting ... ok
test util::formatting::tests::test_complex_formatting ... ok
test util::formatting::tests::test_discord_markdown ... ok
test util::formatting::tests::test_from_text ... ok
test util::formatting::tests::test_link_formatting ... ok
test util::formatting::tests::test_normalized_markdown_creation ... ok
test util::formatting::tests::test_quote_formatting ... ok
test util::formatting::tests::test_slack_escaping ... ok
test util::formatting::tests::test_slack_mrkdwn ... ok
test util::formatting::tests::test_telegram_escaping ... ok
test util::formatting::tests::test_telegram_markdown ... ok
test util::formatting::tests::test_to_plain_text ... ok
test util::formatting::tests::test_whatsapp_text ... ok
test util::media::tests::test_audio_format_equality ... ok
test util::media::tests::test_detect_media_format_by_extension ... ok
test util::media::tests::test_detect_media_format_by_mime_type ... ok
test util::media::tests::test_detect_media_format_jpeg ... ok
test util::media::tests::test_detect_media_format_mp3 ... ok
test util::media::tests::test_detect_media_format_mp4 ... ok
test util::media::tests::test_detect_media_format_pdf ... ok
test util::media::tests::test_detect_media_format_png ... ok
test util::media::tests::test_document_format_equality ... ok
test util::media::tests::test_image_format_equality ... ok
test util::media::tests::test_media_attachment_creation ... ok
test util::media::tests::test_media_format_equality ... ok
test util::media::tests::test_platform_constraints_discord ... ok
test util::media::tests::test_platform_constraints_slack ... ok
test util::media::tests::test_platform_constraints_telegram ... ok
test util::media::tests::test_platform_constraints_whatsapp ... ok
test util::media::tests::test_video_format_equality ... ok
test util::rate_limit::tests::test_platform_default_configs ... ok
test util::rate_limit::tests::test_rate_limit_creation ... ok
test util::rate_limit::tests::test_clear_retry_after ... ok
test util::rate_limit::tests::test_per_chat_rate_limiting ... ok
test util::rate_limit::tests::test_get_request_count ... ok
test util::rate_limit::tests::test_rate_limiter_creation ... ok
test util::rate_limit::tests::test_retry_after_handling ... ok
test util::rate_limit::tests::test_try_acquire_exceeded ... ok
test util::rate_limit::tests::test_try_acquire_success ... ok
test util::rate_limit::tests::test_sliding_window_cleanup ... ok
test media::tests::test_resize_image ... ok
test util::connection::tests::test_maintain_connection_max_attempts ... ok
test util::rate_limit::tests::test_acquire_with_retry_after ... ok

test result: ok. 121 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 10.01s

     Running tests/mod.rs (target/debug/deps/mod-cce1a10b1f6e5127)

running 132 tests
test integration::cross_channel::test_cross_channel_message_formatting ... ok
test integration::cross_channel::test_cross_channel_error_mapping ... ok
test integration::cross_channel::test_cross_channel_media_validation ... ok
test integration::discord::test_discord_gateway_connect ... ok
test integration::cross_channel::test_cross_channel_rate_limit_slack_vs_discord ... ok
test integration::cross_channel::test_cross_channel_connection_state_transitions ... ok
test integration::cross_channel::test_cross_channel_rate_limit_per_chat ... ok
test integration::discord::test_discord_rate_limiter ... ok
test integration::discord::test_discord_reconnect ... ok
test integration::discord::test_discord_receive_message ... ok
test integration::slack::test_slack_rate_limiter ... ok
test integration::slack::test_slack_receive_message ... ok
test integration::slack::test_slack_reconnect ... ok
test integration::cross_channel::test_cross_channel_server_isolation ... ok
test integration::telegram::test_telegram_rate_limiter ... ok
test integration::slack::test_slack_socket_mode_connect ... ok
test integration::telegram::test_telegram_reconnect ... ok
test integration::slack::test_slack_send_text ... ok
test integration::whatsapp::test_whatsapp_allowed_number_filter ... ok
test integration::whatsapp::test_whatsapp_rate_limiter ... ok
test integration::whatsapp::test_whatsapp_receive_message ... ok
test integration::telegram::test_telegram_connect_and_receive ... ok
test integration::slack::test_slack_thread_reply ... ok
test test_media::test_detect_media_type_by_extension_audio_aac ... ok
test test_media::test_detect_media_type_by_extension_audio_flac ... ok
test test_media::test_detect_media_type_by_extension_audio_mp3 ... ok
test test_media::test_detect_media_type_by_extension_audio_ogg ... ok
test test_media::test_detect_media_type_by_extension_audio_wav ... ok
test test_media::test_detect_media_type_by_extension_bmp ... ok
test test_media::test_detect_media_type_by_extension_document_doc ... ok
test test_media::test_detect_media_type_by_extension_document_docx ... ok
test test_media::test_detect_media_type_by_extension_document_pdf ... ok
test test_media::test_detect_media_type_by_extension_document_rtf ... ok
test test_media::test_detect_media_type_by_extension_document_txt ... ok
test test_media::test_detect_media_type_by_extension_gif ... ok
test test_media::test_detect_media_type_by_extension_image ... ok
test test_media::test_detect_media_type_by_extension_png ... ok
test test_media::test_detect_media_type_by_extension_video_avi ... ok
test test_media::test_detect_media_type_by_extension_video_mkv ... ok
test test_media::test_detect_media_type_by_extension_video_mp4 ... ok
test test_media::test_detect_media_type_by_extension_video_webm ... ok
test test_media::test_detect_media_type_by_extension_webp ... ok
test test_media::test_detect_media_type_case_insensitive_extension ... ok
test test_media::test_detect_media_type_empty_data ... ok
test test_media::test_detect_media_type_gif ... ok
test test_media::test_detect_media_type_jpeg ... ok
test test_media::test_detect_media_type_pdf ... ok
test test_media::test_detect_media_type_png ... ok
test test_media::test_detect_media_type_short_data ... ok
test test_media::test_detect_media_type_unknown ... ok
test test_media::test_detect_mime_type_by_extension_mp3 ... ok
test test_media::test_detect_mime_type_by_extension_mp4 ... ok
test test_media::test_detect_mime_type_gif ... ok
test test_media::test_detect_mime_type_jpeg ... ok
test test_media::test_detect_mime_type_pdf ... ok
test test_media::test_detect_mime_type_png ... ok
test test_media::test_detect_mime_type_unknown ... ok
test test_media::test_resize_image_corrupted_data ... ok
test integration::discord::test_discord_send_text ... ok
test integration::telegram::test_telegram_send_text ... ok
test integration::slack::test_slack_send_blocks ... ok
test integration::discord::test_discord_send_embed ... ok
test test_media::test_validate_media_all_supported_types ... ok
test test_media::test_validate_media_disabled ... ok
test test_media::test_validate_media_not_supported ... ok
test test_media::test_validate_media_success ... ok
test test_media::test_validate_media_type_not_in_supported_list ... ok
test test_registry::test_add_alias ... ok
test test_registry::test_add_alias_for_nonexistent_channel ... ok
test test_registry::test_add_same_alias_twice_replaces ... ok
test test_registry::test_alias_for_unknown_channel ... ok
test test_registry::test_alias_resolution ... ok
test test_registry::test_contains_alias ... ok
test test_registry::test_contains_channel ... ok
test test_registry::test_default_registry ... ok
test test_registry::test_empty_string_id ... ok
test test_registry::test_get_unknown_channel ... ok
test test_registry::test_get_via_alias ... ok
test test_registry::test_get_via_canonical_id ... ok
test test_registry::test_get_via_nonexistent_alias ... ok
test test_registry::test_list_channel_plugins ... ok
test test_registry::test_list_channels ... ok
test test_registry::test_list_preserves_order ... ok
test test_registry::test_new_registry_is_empty ... ok
test test_registry::test_normalize_id_direct ... ok
test test_registry::test_normalize_id_lowercase ... ok
test test_registry::test_normalize_id_not_found ... ok
test test_registry::test_normalize_id_via_alias ... ok
test test_registry::test_register_and_get ... ok
test test_registry::test_register_duplicate ... ok
test test_registry::test_remove_alias ... ok
test test_registry::test_special_characters_in_id ... ok
test test_registry::test_unregister_channel ... ok
test test_registry::test_unregister_nonexistent_channel ... ok
test test_router::test_registry_add_alias ... ok
test test_router::test_registry_contains ... ok
test test_router::test_registry_remove_alias ... ok
test test_router::test_registry_with_disabled_account ... ok
test test_router::test_registry_with_mock_channel ... ok
test test_router::test_registry_with_security_adapter ... ok
test test_router::test_resolve_session_key ... ok
test test_router::test_router_debug ... ok
test test_router::test_session_key_creation ... ok
test test_security::test_check_dm_policy_allowed_sender ... ok
test test_security::test_check_dm_policy_blocked_sender ... ok
test test_security::test_check_dm_policy_no_adapter ... ok
test test_security::test_check_dm_policy_with_default_policy ... ok
test test_security::test_check_mention_case_sensitive_mention ... ok
test test_security::test_check_mention_channel_with_mention ... ok
test test_security::test_check_mention_channel_without_mention ... ok
test test_security::test_check_mention_dm_with_requires_mention ... ok
test test_security::test_check_mention_empty_bot_identifiers ... ok
test test_security::test_check_mention_group_with_mention ... ok
test test_security::test_check_mention_group_without_mention ... ok
test test_security::test_check_mention_group_without_requirement ... ok
test test_security::test_check_mention_thread_with_requires_mention ... ok
test test_security::test_check_mention_without_adapter ... ok
test test_security::test_check_sender_allowed_sender ... ok
test test_security::test_check_sender_blocked_sender ... ok
test integration::telegram::test_telegram_send_media ... ok
test test_security::test_check_sender_empty_allowlist ... ok
test test_security::test_check_sender_multiple_allowed ... ok
test test_security::test_check_sender_no_adapter ... ok
test test_security::test_check_sender_with_bot_sender ... ok
test test_security::test_dm_policy_allows_allowed_sender ... ok
test test_security::test_dm_policy_blocks_blocked_sender ... ok
test test_media::test_resize_image_png_to_jpeg ... ok
test test_media::test_resize_image_smaller_than_max ... ok
test integration::whatsapp::test_whatsapp_send_text ... ok
test integration::whatsapp::test_whatsapp_send_media ... ok
test test_media::test_resize_image_preserves_aspect_ratio ... ok
test test_media::test_resize_image_larger_than_max ... ok

test result: ok. 132 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 2.29s

     Running tests/test_media.rs (target/debug/deps/test_media-674baa6473d16f8e)

running 44 tests
test test_detect_media_type_by_extension_audio_aac ... ok
test test_detect_media_type_by_extension_audio_flac ... ok
test test_detect_media_type_by_extension_audio_ogg ... ok
test test_detect_media_type_by_extension_audio_mp3 ... ok
test test_detect_media_type_by_extension_audio_wav ... ok
test test_detect_media_type_by_extension_bmp ... ok
test test_detect_media_type_by_extension_document_doc ... ok
test test_detect_media_type_by_extension_document_docx ... ok
test test_detect_media_type_by_extension_document_pdf ... ok
test test_detect_media_type_by_extension_document_rtf ... ok
test test_detect_media_type_by_extension_document_txt ... ok
test test_detect_media_type_by_extension_gif ... ok
test test_detect_media_type_by_extension_image ... ok
test test_detect_media_type_by_extension_png ... ok
test test_detect_media_type_by_extension_video_avi ... ok
test test_detect_media_type_by_extension_video_mkv ... ok
test test_detect_media_type_by_extension_video_mp4 ... ok
test test_detect_media_type_by_extension_video_webm ... ok
test test_detect_media_type_by_extension_webp ... ok
test test_detect_media_type_case_insensitive_extension ... ok
test test_detect_media_type_empty_data ... ok
test test_detect_media_type_gif ... ok
test test_detect_media_type_jpeg ... ok
test test_detect_media_type_pdf ... ok
test test_detect_media_type_png ... ok
test test_detect_media_type_short_data ... ok
test test_detect_media_type_unknown ... ok
test test_detect_mime_type_by_extension_mp3 ... ok
test test_detect_mime_type_by_extension_mp4 ... ok
test test_detect_mime_type_gif ... ok
test test_detect_mime_type_jpeg ... ok
test test_detect_mime_type_pdf ... ok
test test_detect_mime_type_png ... ok
test test_detect_mime_type_unknown ... ok
test test_resize_image_corrupted_data ... ok
test test_validate_media_all_supported_types ... ok
test test_validate_media_not_supported ... ok
test test_validate_media_disabled ... ok
test test_validate_media_success ... ok
test test_validate_media_type_not_in_supported_list ... ok
test test_resize_image_png_to_jpeg ... ok
test test_resize_image_smaller_than_max ... ok
test test_resize_image_preserves_aspect_ratio ... ok
test test_resize_image_larger_than_max ... ok

test result: ok. 44 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 1.93s

     Running tests/test_registry.rs (target/debug/deps/test_registry-372350508862baf8)

running 27 tests
test test_add_alias ... ok
test test_add_alias_for_nonexistent_channel ... ok
test test_add_same_alias_twice_replaces ... ok
test test_contains_alias ... ok
test test_alias_resolution ... ok
test test_alias_for_unknown_channel ... ok
test test_contains_channel ... ok
test test_default_registry ... ok
test test_get_unknown_channel ... ok
test test_empty_string_id ... ok
test test_get_via_alias ... ok
test test_get_via_canonical_id ... ok
test test_get_via_nonexistent_alias ... ok
test test_list_channel_plugins ... ok
test test_list_channels ... ok
test test_list_preserves_order ... ok
test test_new_registry_is_empty ... ok
test test_normalize_id_direct ... ok
test test_normalize_id_lowercase ... ok
test test_normalize_id_not_found ... ok
test test_normalize_id_via_alias ... ok
test test_register_and_get ... ok
test test_register_duplicate ... ok
test test_remove_alias ... ok
test test_special_characters_in_id ... ok
test test_unregister_channel ... ok
test test_unregister_nonexistent_channel ... ok

test result: ok. 27 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/test_router.rs (target/debug/deps/test_router-039ae0024a30be61)

running 9 tests
test test_registry_add_alias ... ok
test test_registry_contains ... ok
test test_registry_remove_alias ... ok
test test_registry_with_disabled_account ... ok
test test_registry_with_mock_channel ... ok
test test_registry_with_security_adapter ... ok
test test_router_debug ... ok
test test_resolve_session_key ... ok
test test_session_key_creation ... ok

test result: ok. 9 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/test_security.rs (target/debug/deps/test_security-fa8d9523e47aff74)

running 22 tests
test test_check_dm_policy_allowed_sender ... ok
test test_check_dm_policy_no_adapter ... ok
test test_check_dm_policy_blocked_sender ... ok
test test_check_mention_case_sensitive_mention ... ok
test test_check_dm_policy_with_default_policy ... ok
test test_check_mention_channel_with_mention ... ok
test test_check_mention_dm_with_requires_mention ... ok
test test_check_mention_channel_without_mention ... ok
test test_check_mention_group_with_mention ... ok
test test_check_mention_empty_bot_identifiers ... ok
test test_check_mention_group_without_mention ... ok
test test_check_mention_group_without_requirement ... ok
test test_check_mention_thread_with_requires_mention ... ok
test test_check_mention_without_adapter ... ok
test test_check_sender_allowed_sender ... ok
test test_check_sender_blocked_sender ... ok
test test_check_sender_empty_allowlist ... ok
test test_check_sender_multiple_allowed ... ok
test test_check_sender_no_adapter ... ok
test test_check_sender_with_bot_sender ... ok
test test_dm_policy_allows_allowed_sender ... ok
test test_dm_policy_blocks_blocked_sender ... ok

test result: ok. 22 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/lib.rs (target/debug/deps/aisopod_channel_discord-71a7c88e050972ac)

running 55 tests
test embeds::tests::test_build_error_embed ... ok
test embeds::tests::test_build_multiple_embeds ... ok
test embeds::tests::test_build_success_embed ... ok
test embeds::tests::test_build_multiple_embeds_limit ... ok
test embeds::tests::test_build_tool_result_embed ... ok
test embeds::tests::test_embed_builder_basic ... ok
test embeds::tests::test_embed_builder_field_limit ... ok
test embeds::tests::test_embed_builder_title_limit ... ok
test embeds::tests::test_embed_builder_with_color ... ok
test embeds::tests::test_embed_builder_with_author ... ok
test embeds::tests::test_embed_builder_with_fields ... ok
test embeds::tests::test_embed_builder_with_footer ... ok
test embeds::tests::test_embed_builder_with_image ... ok
test embeds::tests::test_embed_builder_with_thumbnail ... ok
test embeds::tests::test_embed_builder_with_timestamp ... ok
test features::tests::test_parse_reaction_emoji_animated ... ok
test embeds::tests::test_embed_builder_description_limit ... ok
test features::tests::test_parse_reaction_emoji_custom ... ok
test media::tests::test_extract_media_from_attachments ... ignored, Attachment struct is non-exhaustive in serenity v0.12, only available from API responses
test media::tests::test_extract_media_multiple ... ignored, Attachment struct is non-exhaustive in serenity v0.12, only available from API responses
test features::tests::test_parse_reaction_emoji_unicode ... ok
test media::tests::test_map_discord_content_type_audio ... ok
test media::tests::test_map_discord_content_type_document ... ok
test media::tests::test_map_discord_content_type_image ... ok
test media::tests::test_map_discord_content_type_other ... ok
test media::tests::test_map_discord_content_type_video ... ok
test media::tests::test_validate_media_empty_filename ... ok
test media::tests::test_validate_media_file_size ... ok
test media::tests::test_validate_media_valid ... ok
test receive::tests::test_mention_checking ... ok
test receive::tests::test_should_filter_message_bot_itself ... ok
test receive::tests::test_should_filter_message_mention_required ... ok
test receive::tests::test_should_filter_message_no_allowlist ... ok
test receive::tests::test_should_filter_message_with_both_allowlists ... ok
test receive::tests::test_should_filter_message_not_mention_required ... ok
test receive::tests::test_should_filter_message_with_channel_allowlist ... ok
test receive::tests::test_should_filter_message_with_guild_allowlist ... ok
test send::tests::test_chunk_text_exact_limit ... ok
test send::tests::test_chunk_text_newlines ... ok
test send::tests::test_chunk_text_preserves_words ... ok
test send::tests::test_chunk_text_short ... ok
test send::tests::test_markdown_blockquote ... ok
test send::tests::test_markdown_bold ... ok
test send::tests::test_markdown_code ... ok
test send::tests::test_markdown_code_block ... ok
test send::tests::test_markdown_italic ... ok
test send::tests::test_markdown_escape_special ... ok
test send::tests::test_markdown_spoiler ... ok
test send::tests::test_markdown_strikethrough ... ok
test send::tests::test_markdown_underline ... ok
test tests::test_default_config ... ok
test send::tests::test_chunk_text_over_limit ... ok
test tests::test_mention_filtering ... ok
test tests::test_account_config_serialization ... ok
test tests::test_self_message_filtering ... ok

test result: ok. 53 passed; 0 failed; 2 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/lib.rs (target/debug/deps/aisopod_channel_googlechat-eef2f4fee079cf4d)

running 53 tests
test api::tests::test_member_role_serialization ... ok
test api::tests::test_create_message_request_serialization ... ok
test api::tests::test_message_default ... ok
test api::tests::test_member_state_serialization ... ok
test api::tests::test_message_type_serialization ... ok
test api::tests::test_space_default ... ok
test api::tests::test_space_type_serialization ... ok
test api::tests::test_user_serialization ... ok
test auth::tests::test_google_chat_auth_token_default ... ok
test auth::tests::test_oauth2_auth_new ... ok
test auth::tests::test_oauth2_config_default ... ok
test auth::tests::test_service_account_config_default ... ok
test cards::tests::test_button_list ... ok
test cards::tests::test_card_builder_empty ... ok
test cards::tests::test_card_builder_with_header ... ok
test cards::tests::test_card_builder_with_button ... ok
test cards::tests::test_card_builder_with_section ... ok
test auth::tests::test_service_account_config_from_key_file ... ok
test cards::tests::test_card_with_action ... ok
test cards::tests::test_decorated_text ... ok
test cards::tests::test_icon_serialization ... ok
test cards::tests::test_image_widget_with_layout ... ok
test cards::tests::test_selection_input_widget ... ok
test cards::tests::test_selection_type_serialization ... ok
test cards::tests::test_text_format_serialization ... ok
test cards::tests::test_text_paragraph_with_format ... ok
test cards::tests::test_full_card_example ... ok
test channel::tests::test_google_chat_account_config_default ... ok
test channel::tests::test_google_chat_account_enabled ... ok
test channel::tests::test_google_chat_channel_default ... ok
test channel::tests::test_google_chat_security_adapter ... ok
test channel::tests::test_google_chat_security_adapter_no_allowlist ... ok
test channel::tests::test_requires_mention_in_group ... ok
test config::tests::test_auth_type_deserialization ... ok
test config::tests::test_auth_type_serialization ... ok
test config::tests::test_google_chat_account_config_custom_settings ... ok
test config::tests::test_google_chat_account_config_default ... ok
test config::tests::test_google_chat_account_config_oauth2 ... ok
test config::tests::test_google_chat_account_config_service_account ... ok
test config::tests::test_google_chat_config_custom ... ok
test config::tests::test_google_chat_config_default ... ok
test webhook::tests::test_event_type_deserialization ... ok
test webhook::tests::test_parse_timestamp ... ok
test webhook::tests::test_card_action_deserialization ... ok
test webhook::tests::test_webhook_payload_deserialization_card_clicked ... ok
test webhook::tests::test_webhook_payload_deserialization_message ... ok
test webhook::tests::test_webhook_response_serialization ... ok
test webhook::tests::test_webhook_state_allowed_spaces ... ok
test webhook::tests::test_webhook_state_without_allowlist ... ok
test webhook::tests::test_webhook_verify_query_deserialization ... ok
test webhook::tests::test_webhook_state_default ... ok
test webhook::tests::test_webhook_state_with_callback ... ok
test channel::tests::test_google_chat_channel_with_oauth2 ... ok

test result: ok. 53 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/lib.rs (target/debug/deps/aisopod_channel_imessage-ce5d8b078c052c97)

running 42 tests
test applescript::tests::test_create_get_group_chats_script ... ok
test applescript::tests::test_create_send_media_script ... ok
test applescript::tests::test_create_send_script_dm ... ok
test applescript::tests::test_create_send_script_group ... ok
test applescript::tests::test_default_backend ... ok
test applescript::tests::test_is_macos_detection ... ok
test applescript::tests::test_with_config ... ok
test bluebubbles::tests::test_bluebubbles_endpoints_chat_history ... ok
test bluebubbles::tests::test_bluebubbles_endpoints ... ok
test bluebubbles::tests::test_bluebubbles_endpoints_chats ... ok
test bluebubbles::tests::test_bluebubbles_endpoints_contacts ... ok
test bluebubbles::tests::test_bluebubbles_endpoints_invalid_url ... ok
test bluebubbles::tests::test_bluebubbles_endpoints_https_websocket ... ok
test bluebubbles::tests::test_bluebubbles_endpoints_websocket ... ok
test bluebubbles::tests::test_bluebubbles_endpoints_message_info ... ok
test channel::tests::test_default_backend_on_macos ... ok
test channel::tests::test_parse_imessage_message_dm ... ok
test channel::tests::test_imessage_account_config_validation ... ok
test channel::tests::test_parse_imessage_message_group ... ok
test config::tests::test_config_default ... ok
test config::tests::test_config_new ... ok
test config::tests::test_config_validation_applescript ... ok
test config::tests::test_config_validation_bluebubbles_no_url ... ok
test channel::tests::test_channel_registration ... ok
test config::tests::test_config_validation_invalid_backend ... ok
test config::tests::test_config_validation_bluebubbles_with_url ... ok
test config::tests::test_extract_group_id ... ok
test config::tests::test_extract_sender_id ... ok
test config::tests::test_is_email ... ok
test config::tests::test_is_phone_number ... ok
test config::tests::test_is_sender_allowed ... ok
test config::tests::test_is_group_monitored ... ok
test config::tests::test_normalize_contact_identifier ... ok
test config::tests::test_normalize_phone_number ... ok
test platform::tests::test_check_platform_support_applescript_on_macos ... ok
test platform::tests::test_check_platform_support_applescript_on_non_macos ... ok
test platform::tests::test_check_platform_support_bluebubbles ... ok
test platform::tests::test_format_applescript_message ... ok
test platform::tests::test_is_macos_detection ... ok
test channel::tests::test_channel_meta ... ok
test channel::tests::test_channel_capabilities ... ok
test channel::tests::test_channel_disconnected_state ... ok

test result: ok. 42 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.17s

     Running tests/integration.rs (target/debug/deps/integration-7932c93962ad481a)

running 12 tests
test test_imessage_account_config_validation ... ok
test test_imessage_channel_creation ... ok
test test_imessage_channel_id ... ok
test test_imessage_parse_message_dm ... ok
test test_imessage_parse_message_group ... ok
test test_imessage_channel_meta ... ok
test test_imessage_channel_disconnected_state ... ok
test test_imessage_channel_registration ... ok
test test_imessage_channel_capabilities ... ok
test test_imessage_channel_config_adapter ... ok
test test_imessage_channel_default_backend ... ok
test test_imessage_channel_security_adapter ... ok

test result: ok. 12 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.45s

     Running unittests src/lib.rs (target/debug/deps/aisopod_channel_irc-e12151df2d63edb8)

running 11 tests
test auth::tests::test_authenticate_nickserv_compile ... ok
test auth::tests::test_custom_command_format ... ok
test channel::tests::test_account_disabled_when_no_server ... ok
test channel::tests::test_account_validation ... ok
test client::tests::test_irc_connection_struct ... ok
test config::tests::test_irc_server_config_default ... ok
test tests::test_irc_config_default ... ok
test config::tests::test_irc_config_serialization ... ok
test tests::test_irc_config_serialization ... ok
test channel::tests::test_irc_channel_multiple_servers ... ok
test channel::tests::test_irc_channel_new ... ok

test result: ok. 11 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/lib.rs (target/debug/deps/aisopod_channel_lark-6f75cf5b2117f504)

running 14 tests
test auth::tests::test_new_lark_auth ... ok
test auth::tests::test_new_feishu_auth ... ok
test auth::tests::test_is_token_valid_no_token ... ok
test cards::tests::test_div_card ... ok
test cards::tests::test_card_to_json ... ok
test cards::tests::test_simple_card ... ok
test cards::tests::test_image_card ... ok
test config::tests::test_base_url ... ok
test events::tests::test_event_type_message ... ok
test events::tests::test_event_type_url_verification ... ok
test config::tests::test_default_config ... ok
test api::tests::test_lark_api_new ... ok
test channel::tests::test_lark_channel_new ... ok
test channel::tests::test_lark_channel_feishu ... ok

test result: ok. 14 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.16s

     Running unittests src/lib.rs (target/debug/deps/aisopod_channel_line-5fd64253abd2cbae)

running 6 tests
test channel::tests::test_channel_registration ... ok
test channel::tests::test_is_sender_allowed ... ok
test channel::tests::test_line_account_disabled ... ok
test channel::tests::test_line_account_config_new ... ok
test channel::tests::test_line_account_config_default ... ok
test channel::tests::test_line_account_enabled ... ok

test result: ok. 6 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/lib.rs (target/debug/deps/aisopod_channel_matrix-38874c00e1b4529a)

running 16 tests
test channel::tests::test_matrix_account_config_default ... ok
test channel::tests::test_matrix_account_validation ... ok
test channel::tests::test_matrix_event_to_incoming_message ... ok
test channel::tests::test_matrix_security_adapter_allows_allowed_sender ... ok
test channel::tests::test_matrix_account_validation_valid ... ok
test config::tests::test_matrix_account_config_default ... ok
test config::tests::test_matrix_auth_password_serialization ... ok
test client::tests::test_matrix_client_struct ... ok
test channel::tests::test_matrix_security_adapter_blocks_unknown_sender ... ok
test config::tests::test_matrix_auth_sso_serialization ... ok
test config::tests::test_matrix_config_e2ee_disabled ... ok
test config::tests::test_matrix_config_with_rooms ... ok
test config::tests::test_matrix_auth_token_serialization ... ok
test encryption::tests::test_e2ee_config_default ... ok
test channel::tests::test_matrix_channel_id ... ok
test encryption::tests::test_e2ee_config_with_path ... ok

test result: ok. 16 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/lib.rs (target/debug/deps/aisopod_channel_mattermost-7d7c6ccc2f6345c9)

running 37 tests
test auth::tests::test_extract_token_bot ... ok
test auth::tests::test_auth_result_serialization ... ok
test auth::tests::test_extract_token_password ... ok
test auth::tests::test_extract_token_personal ... ok
test auth::tests::test_requires_login_bot ... ok
test auth::tests::test_requires_login_personal ... ok
test auth::tests::test_requires_login_password ... ok
test auth::tests::test_validate_token_empty ... ok
test auth::tests::test_validate_token_success ... ok
test auth::tests::test_validate_token_too_short ... ok
test channel::tests::test_new_channel_validation ... ok
test config::tests::test_default_config ... ok
test config::tests::test_deserialize_bot_token ... ok
test config::tests::test_deserialize_password ... ok
test config::tests::test_deserialize_personal_token ... ok
test config::tests::test_new_config ... ok
test config::tests::test_validate_error_bot_token_empty ... ok
test config::tests::test_validate_error_empty_url ... ok
test config::tests::test_validate_error_invalid_url ... ok
test config::tests::test_validate_error_password_empty ... ok
test config::tests::test_validate_success_bot_token ... ok
test config::tests::test_validate_success_password ... ok
test config::tests::test_validate_success_personal_token ... ok
test config::tests::test_with_auth ... ok
test config::tests::test_with_channels ... ok
test config::tests::test_with_team ... ok
test websocket::tests::test_auth_response_serialization ... ok
test websocket::tests::test_is_status_event ... ok
test websocket::tests::test_mattermost_event_deserialization ... ok
test websocket::tests::test_ws_url_conversion ... ok
test api::tests::test_api_client_clean_double_slash ... ok
test channel::tests::test_channel_capabilities ... ok
test channel::tests::test_new_channel ... ok
test api::tests::test_api_client_new ... ok
test channel::tests::test_channel_id_format ... ok
test api::tests::test_api_client_clean_url ... ok
test channel::tests::test_channel_meta ... ok

test result: ok. 37 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.34s

     Running unittests src/lib.rs (target/debug/deps/aisopod_channel_msteams-52aa0b93a663c1d1)

running 57 tests
test adaptive_cards::tests::test_adaptive_card_creation ... ok
test adaptive_cards::tests::test_container_creation ... ok
test adaptive_cards::tests::test_adaptive_card_with_body ... ok
test adaptive_cards::tests::test_adaptive_card_serialization ... ok
test adaptive_cards::tests::test_adaptive_card_deserialization ... ok
test adaptive_cards::tests::test_helper_create_column_card ... ok
test adaptive_cards::tests::test_helper_create_fact_card ... ok
test adaptive_cards::tests::test_helper_create_action_card ... ok
test adaptive_cards::tests::test_helper_create_image_card ... ok
test adaptive_cards::tests::test_helper_create_form_card ... ok
test adaptive_cards::tests::test_helper_create_message_card ... ok
test adaptive_cards::tests::test_image_creation ... ok
test adaptive_cards::tests::test_open_url_action_creation ... ok
test adaptive_cards::tests::test_submit_action_creation ... ok
test adaptive_cards::tests::test_text_block_creation ... ok
test auth::tests::test_auth_config_creation ... ok
test auth::tests::test_auth_config_with_resource ... ok
test auth::tests::test_auth_from_account_config ... ok
test auth::tests::test_token_expiry ... ok
test botframework::tests::test_activity_create_conversation_update ... ok
test botframework::tests::test_activity_create_event ... ok
test botframework::tests::test_activity_create_message ... ok
test botframework::tests::test_activity_create_message_with_reply ... ok
test botframework::tests::test_activity_create_typing ... ok
test channel::adaptive_cards_tests::test_adaptive_card_creation ... ok
test channel::adaptive_cards_tests::test_adaptive_card_with_body ... ok
test channel::adaptive_cards_tests::test_helper_create_action_card ... ok
test channel::adaptive_cards_tests::test_helper_create_message_card ... ok
test channel::adaptive_cards_tests::test_image_creation ... ok
test channel::adaptive_cards_tests::test_submit_action_creation ... ok
test channel::adaptive_cards_tests::test_text_block_creation ... ok
test channel::auth_tests::test_auth_config_creation ... ok
test channel::auth_tests::test_auth_config_with_resource ... ok
test channel::auth_tests::test_auth_from_account_config ... ok
test channel::botframework_tests::test_activity_create_conversation_update ... ok
test channel::botframework_tests::test_activity_create_event ... ok
test channel::botframework_tests::test_activity_create_message ... ok
test channel::botframework_tests::test_activity_create_message_with_reply ... ok
test channel::botframework_tests::test_activity_create_typing ... ok
test channel::tests::test_ms_teams_account_creation ... ok
test channel::tests::test_security_adapter ... ok
test config::tests::test_channel_allowed ... ok
test config::tests::test_bot_app_id_or_client_id ... ok
test config::tests::test_ms_teams_account_config_default ... ok
test config::tests::test_ms_teams_account_config_with_bot ... ok
test config::tests::test_ms_teams_account_config_new ... ok
test config::tests::test_ms_teams_config_validate ... ok
test config::tests::test_user_allowed ... ok
test webhook::tests::test_create_webhook_router ... ok
test webhook::tests::test_create_validation_response ... ok
test webhook::tests::test_validate_activity_missing_conversation ... ok
test webhook::tests::test_validate_activity ... ok
test webhook::tests::test_validate_activity_missing_type ... ok
test channel::tests::test_ms_teams_channel_validation_error ... ok
test channel::tests::test_remove_account ... ok
test channel::tests::test_get_account ... ok
test channel::tests::test_ms_teams_channel_creation ... ok

test result: ok. 57 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/integration_tests.rs (target/debug/deps/integration_tests-071e6181a2838dd6)

running 14 tests
test test_invalid_channel_creation ... ok
test test_channel_with_bot_credentials ... ok
test test_channel_creation ... ok
test test_channel_remove_account ... ok
test test_channel_config_adapter ... ok
test test_channel_multiple_accounts ... ok
test test_channel_capabilities ... ok
test test_channel_meta ... ok
test test_security_adapter ... ok
test test_security_adapter_with_allowed_users ... ok
test test_stop_channel ... ok
test test_webhook_mode_without_enabled ... ok
test test_webhook_mode ... ok
test test_webhook_router_creation ... ok

test result: ok. 14 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/lib.rs (target/debug/deps/aisopod_channel_nextcloud-e4abaf0465b543aa)

running 10 tests
test api::tests::test_config_serialization ... ok
test channel::tests::test_config_validation ... ok
test channel::tests::test_missing_password ... ok
test channel::tests::test_missing_username ... ok
test channel::tests::test_missing_server_url ... ok
test channel::tests::test_valid_config ... ok
test api::tests::test_api_client_creation ... ok
test polling::tests::test_poller_creation ... ok
test polling::tests::test_multiple_rooms ... ok
test files::tests::test_file_share_api ... ok

test result: ok. 10 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.27s

     Running unittests src/lib.rs (target/debug/deps/aisopod_channel_nostr-8644cef67548746d)

running 8 tests
test channel::tests::test_account_disabled_when_no_key ... ok
test tests::test_config_default ... ok
test tests::test_config_validation_empty_key ... ok
test tests::test_config_validation_empty_relays ... ok
test tests::test_config_validation_invalid_relay_url ... ok
test channel::tests::test_account_validation ... ok
test channel::tests::test_nostr_channel_multiple_relays ... ok
test channel::tests::test_nostr_channel_new ... ok

test result: ok. 8 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/lib.rs (target/debug/deps/aisopod_channel_signal-99494d7ffbc33152)

running 18 tests
test channel::tests::test_channel_registration ... ok
test config::tests::test_normalize_phone_number ... ok
test channel::tests::test_signal_account_config_new ... ok
test channel::tests::test_signal_account_config_default ... ok
test config::tests::test_sender_allowed ... ok
test config::tests::test_sender_allowed_no_list ... ok
test gateway::tests::test_parse_group_message ... ok
test gateway::tests::test_parse_dm_message ... ok
test gateway::tests::test_extract_disappearing_timer ... ok
test gateway::tests::test_parse_message_with_media ... ok
test runtime::tests::test_check_signal_cli_exists ... ok
test outbound::tests::test_signal_outbound_new ... ok
test runtime::tests::test_get_default_signal_cli_path ... ok
test runtime::tests::test_signal_runtime_new ... ok
test outbound::tests::test_signal_outbound_with_timeout ... ok
test config::tests::test_phone_number_validation_invalid_format ... ok
test config::tests::test_phone_number_validation_valid ... ok
test config::tests::test_phone_number_validation_invalid ... ok

test result: ok. 18 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.01s

     Running unittests src/lib.rs (target/debug/deps/aisopod_channel_slack-5541171bb5c567c6)

running 42 tests
test blocks::tests::test_block_builder ... ok
test blocks::tests::test_block_kit_serialization ... ok
test blocks::tests::test_button_serialization ... ok
test blocks::tests::test_confirm_serialization ... ok
test blocks::tests::test_divider_block_serialization ... ok
test blocks::tests::test_image_block_serialization ... ok
test blocks::tests::test_mrkdwn_serialization ... ok
test blocks::tests::test_option_serialization ... ok
test blocks::tests::test_section_block_serialization ... ok
test blocks::tests::test_plain_text_serialization ... ok
test connection::tests::test_apps_connections_open_response_missing_url ... ok
test blocks::tests::test_static_select_serialization ... ok
test connection::tests::test_apps_connections_open_response_ok ... ok
test connection::tests::test_auth_test_response_ok ... ok
test connection::tests::test_auth_test_response_not_ok ... ok
test features::tests::test_build_list_channels_payload ... ok
test features::tests::test_build_typing_payload ... ok
test features::tests::test_channel_info_serialization ... ok
test features::tests::test_user_info_serialization ... ok
test media::tests::test_build_upload_payload ... ok
test media::tests::test_media_type_to_mime ... ok
test media::tests::test_upload_response ... ok
test media::tests::test_mime_to_media_type ... ok
test receive::tests::test_filter_allowed_channel ... ok
test receive::tests::test_filter_self_message ... ok
test receive::tests::test_normalize_message_channel ... ok
test receive::tests::test_normalize_message_dm ... ok
test receive::tests::test_normalize_message_thread ... ok
test receive::tests::test_process_message_event ... ok
test send::tests::test_build_send_message_payload ... ok
test send::tests::test_send_message_response ... ok
test send::tests::test_send_options_serialization ... ok
test send::tests::test_split_message_long ... ok
test socket_mode::tests::test_message_event_serialization ... ok
test socket_mode::tests::test_socket_mode_connection_new ... ok
test send::tests::test_split_message_short ... ok
test socket_mode::tests::test_socket_mode_event_serialization ... ok
test send::tests::test_markdown_to_mrkdwn_basic ... ok
test send::tests::test_markdown_to_mrkdwn_header ... ok
test send::tests::test_markdown_to_mrkdwn_italic ... ok
test send::tests::test_markdown_to_mrkdwn_strikethrough ... ok
test send::tests::test_markdown_to_mrkdwn_link ... ok

test result: ok. 42 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.04s

     Running tests/test_outbound.rs (target/debug/deps/test_outbound-5a718cb58994445a)

running 5 tests
test test_outbound_adapter_send_text ... ok
test test_outbound_adapter_send_media ... ok
test test_slack_config_adapter_delete_account ... ok
test test_slack_config_adapter_list_accounts ... ok
test test_slack_config_adapter_resolve_account ... ok

test result: ok. 5 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/lib.rs (target/debug/deps/aisopod_channel_telegram-6dc18c9d4d2f3833)

running 28 tests
test features::tests::test_bot_username_validity ... ok
test tests::test_account_config_serialization ... ok
test features::tests::test_username_cache ... ok
test tests::test_default_config ... ok
test tests::test_account_creation ... ok
test tests::test_html_formatting_chunking ... ok
test tests::test_long_message_chunking ... ok
test tests::test_markdown_formatting_preserves_delimiters ... ok
test tests::test_media_struct_initialization ... ok
test tests::test_media_type_mapping_to_handlers ... ok
test tests::test_media_type_other_maps_to_document ... ok
test tests::test_mention_detection_various_placements ... ok
test tests::test_mention_detection_with_at ... ok
test tests::test_mention_without_at ... ok
test tests::test_channel_capabilities ... ok
test tests::test_message_above_4096 ... ok
test tests::test_message_split_at_boundary ... ok
test tests::test_account_id_extraction ... ok
test tests::test_channel_id_format ... ok
test tests::test_channel_creation_with_valid_token ... ok
test tests::test_security_adapter_with_allowed_users ... ok
test tests::test_security_adapter_without_filter ... ok
test tests::test_account_removal_leaves_others_intact ... ok
test tests::test_get_account ... ok
test tests::test_get_account_ids ... ok
test tests::test_multi_account_routing ... ok
test tests::test_multi_account_creation ... ok
test tests::test_remove_account ... ok

test result: ok. 28 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.86s

     Running unittests src/lib.rs (target/debug/deps/aisopod_channel_test_channel-035e95a96c7b915e)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/common.rs (target/debug/deps/common-4c94c4eb103eb865)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/tier2_integration.rs (target/debug/deps/tier2_integration-17a8b84cdc6f3983)

running 37 tests
test mocks::irc_mock::tests::test_mock_irc_join ... ok
test mocks::irc_mock::tests::test_mock_irc_server_starts ... ok
test mocks::line_mock::tests::test_mock_line_server_starts ... ok
test mocks::lark_mock::tests::test_mock_lark_server_starts ... ok
test mocks::matrix_mock::tests::test_mock_matrix_server_starts ... ok
test mocks::mattermost_mock::tests::test_mock_mattermost_server_starts ... ok
test mocks::nextcloud_mock::tests::test_mock_nextcloud_get_rooms ... ok
test mocks::nextcloud_mock::tests::test_mock_nextcloud_server_starts ... ok
test mocks::nostr_mock::tests::test_mock_nostr_publish_event ... ok
test mocks::nostr_mock::tests::test_mock_nostr_server_starts ... ok
test mocks::signal_mock::tests::test_mock_signal_cli_exists ... ok
test mocks::signal_mock::tests::test_mock_signal_cli_path ... ok
test mocks::twitch_mock::tests::test_mock_twitch_join ... ok
test mocks::twitch_mock::tests::test_mock_twitch_privmsg ... ok
test mocks::twitch_mock::tests::test_mock_twitch_server_starts ... ok
test test_all_channels_support_group_messages ... ok
test mocks::zalo_mock::tests::test_mock_zalo_server_starts ... ok
test test_all_channels_support_message_target ... ok
test test_googlechat_invalid_auth ... ok
test test_googlechat_send_message ... ok
test test_googlechat_connect_with_mock ... ok
test test_imessage_invalid_account_id ... ok
test test_imessage_non_macos_error ... ok
test test_msteams_connect_with_mock ... ok
test test_msteams_invalid_credentials ... ok
test test_msteams_send_message ... ok
test test_signal_cli_not_found ... ok
test test_signal_connect_with_mock_cli ... ok
test test_signal_invalid_phone_number ... ok
test test_signal_send_message ... ok
test test_imessage_send_message ... ok
test mocks::mattermost_mock::tests::test_mock_mattermost_login ... ok
test test_imessage_connect ... ok
test mocks::zalo_mock::tests::test_mock_zalo_send_message ... ok
test mocks::matrix_mock::tests::test_mock_matrix_login ... ok
test mocks::line_mock::tests::test_mock_line_push_message ... ok
test mocks::lark_mock::tests::test_mock_lark_send_message ... ok

test result: ok. 37 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.34s

     Running tests/tier3_integration.rs (target/debug/deps/tier3_integration-dae8716a1e7b9834)

running 66 tests
test mocks::irc_mock::tests::test_mock_irc_join ... ok
test mocks::irc_mock::tests::test_mock_irc_server_starts ... ok
test mocks::line_mock::tests::test_mock_line_server_starts ... ok
test mocks::matrix_mock::tests::test_mock_matrix_server_starts ... ok
test mocks::lark_mock::tests::test_mock_lark_server_starts ... ok
test mocks::mattermost_mock::tests::test_mock_mattermost_server_starts ... ok
test mocks::nextcloud_mock::tests::test_mock_nextcloud_server_starts ... ok
test mocks::nextcloud_mock::tests::test_mock_nextcloud_get_rooms ... ok
test mocks::nostr_mock::tests::test_mock_nostr_publish_event ... ok
test mocks::nostr_mock::tests::test_mock_nostr_server_starts ... ok
test mocks::twitch_mock::tests::test_mock_twitch_join ... ok
test mocks::signal_mock::tests::test_mock_signal_cli_exists ... ok
test mocks::signal_mock::tests::test_mock_signal_cli_path ... ok
test mocks::twitch_mock::tests::test_mock_twitch_privmsg ... ok
test mocks::twitch_mock::tests::test_mock_twitch_server_starts ... ok
test test_all_tier3_channels_support_group_messages ... ok
test mocks::zalo_mock::tests::test_mock_zalo_server_starts ... ok
test test_all_tier3_channels_support_message_target ... ok
test test_irc_connect_with_mock ... ok
test test_irc_empty_nickname ... ok
test test_irc_invalid_config ... ok
test test_irc_join_channel ... ok
test test_irc_send_message ... ok
test test_lark_invalid_config ... ok
test test_lark_webhook_verification ... ok
test test_line_connect_with_mock ... ok
test test_line_invalid_config ... ok
test test_line_send_message ... ok
test test_line_webhook_verification ... ok
test test_matrix_connect_with_mock ... ok
test test_matrix_invalid_config ... ok
test test_matrix_invalid_password ... ok
test test_matrix_send_message ... ok
test test_lark_connect_with_mock ... ok
test mocks::matrix_mock::tests::test_mock_matrix_login ... ok
test test_mattermost_empty_token ... ok
test test_mattermost_invalid_config ... ok
test mocks::zalo_mock::tests::test_mock_zalo_send_message ... ok
test mocks::line_mock::tests::test_mock_line_push_message ... ok
test test_mock_nextcloud_get_rooms ... ok
test mocks::lark_mock::tests::test_mock_lark_send_message ... ok
test test_mock_nostr_subscribe ... ok
test test_mock_twitch_join ... ok
test mocks::mattermost_mock::tests::test_mock_mattermost_login ... ok
test test_nextcloud_invalid_config ... ok
test test_mattermost_connect_with_mock ... ok
test test_mattermost_send_message ... ok
test test_nostr_connect_with_mock ... ok
test test_nostr_invalid_config ... ok
test test_nostr_invalid_private_key ... ok
test test_nostr_send_text_note ... ok
test test_twitch_connect_with_mock ... ok
test test_twitch_invalid_config ... ok
test test_twitch_invalid_oauth_token ... ok
test test_twitch_send_message ... ok
test test_mock_line_push_message ... ok
test test_nextcloud_invalid_server_url ... ok
test test_nextcloud_connect_with_mock ... ok
test test_zalo_webhook_verification ... ok
test test_mock_lark_send_message ... ok
test test_mock_zalo_send_message ... ok
test test_nextcloud_send_message ... ok
test test_zalo_invalid_config ... ok
test test_zalo_send_message ... ok
test test_zalo_connect_with_mock ... ok
test test_lark_send_message ... ok

test result: ok. 66 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 3.17s

     Running unittests src/lib.rs (target/debug/deps/aisopod_channel_twitch-14c97a516a115768)

running 36 tests
test auth::tests::test_token_info_deserialization ... ok
test auth::tests::test_token_has_scopes ... ok
test badges::tests::test_badge_serialization ... ok
test auth::tests::test_token_prefix_removal ... ok
test badges::tests::test_is_broadcaster ... ok
test badges::tests::test_is_broadcaster_not_broadcaster ... ok
test badges::tests::test_is_moderator ... ok
test badges::tests::test_is_moderator_broadcaster ... ok
test badges::tests::test_is_moderator_no_moderator ... ok
test badges::tests::test_is_subscriber ... ok
test badges::tests::test_is_subscriber_no_subscriber ... ok
test badges::tests::test_is_vip ... ok
test badges::tests::test_parse_badge_info ... ok
test badges::tests::test_parse_badges_basic ... ok
test badges::tests::test_parse_badge_info_empty ... ok
test badges::tests::test_parse_badges_empty ... ok
test badges::tests::test_parse_badges_no_version ... ok
test channel::tests::test_is_moderator_with_badge ... ok
test channel::tests::test_parse_twitch_badges ... ok
test channel::tests::test_twitch_config_validation ... ok
test channel::tests::test_twitch_config_validation_empty_username ... ok
test channel::tests::test_twitch_config_validation_no_channels ... ok
test config::tests::test_twitch_config_validation ... ok
test config::tests::test_twitch_config_validation_empty_oauth ... ok
test config::tests::test_twitch_config_serialization ... ok
test config::tests::test_twitch_config_validation_empty_username ... ok
test config::tests::test_twitch_config_validation_no_channels ... ok
test tests::test_badge_parsing ... ok
test tests::test_moderator_detection ... ok
test tests::test_subscriber_detection ... ok
test tests::test_twitch_config_default ... ok
test tmi::tests::test_parse_irc_line_with_colon_param ... ok
test tests::test_twitch_config_serialization ... ok
test tmi::tests::test_parse_irc_line_without_tags ... ok
test tmi::tests::test_parse_irc_line_with_tags ... ok
test tmi::tests::test_parse_tag_string ... ok

test result: ok. 36 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/lib.rs (target/debug/deps/aisopod_channel_utils-b36815aafb3f4453)

running 44 tests
test error_mapping::tests::test_authentication_error ... ok
test error_mapping::tests::test_error_display_formatting ... ok
test error_mapping::tests::test_error_is_commutative ... ok
test error_mapping::tests::test_error_from_http_status ... ok
test error_mapping::tests::test_gateway_error ... ok
test error_mapping::tests::test_generic_error ... ok
test error_mapping::tests::test_invalid_request_error ... ok
test error_mapping::tests::test_network_error ... ok
test error_mapping::tests::test_not_found_error ... ok
test error_mapping::tests::test_rate_limit_error ... ok
test error_mapping::tests::test_server_error ... ok
test markdown::tests::test_code_blocks ... ok
test markdown::tests::test_discord_to_slack ... ok
test markdown::tests::test_discord_to_telegram ... ok
test markdown::tests::test_links ... ok
test markdown::tests::test_html_to_discord ... ok
test markdown::tests::test_markdown_format_display ... ok
test markdown::tests::test_plain_to_discord ... ok
test markdown::tests::test_multiple_formats ... ok
test markdown::tests::test_slack_to_discord ... ok
test media::tests::test_default_constraints ... ok
test media::tests::test_detect_media_type ... ok
test media::tests::test_get_mime_type ... ok
test media::tests::test_is_valid_extension ... ok
test media::tests::test_media_type_extensions ... ok
test media::tests::test_platform_constraints ... ok
test rate_limit::tests::test_different_keys ... ok
test rate_limit::tests::test_rate_limit_limited ... ok
test rate_limit::tests::test_rate_limit_allowed ... ok
test rate_limit::tests::test_platform_rate_limiters ... ok
test media::tests::test_validate_media_valid ... ok
test rate_limit::tests::test_update_from_headers ... ok
test retry::tests::test_circuit_breaker ... ok
test rate_limit::tests::test_rate_limiter_creation ... ok
test retry::tests::test_circuit_breaker_half_open ... ok
test retry::tests::test_retry_delay_calculation ... ok
test retry::tests::test_retry_delay_with_jitter ... ok
test retry::tests::test_retry_executor_config ... ok
test retry::tests::test_retry_executor_success ... ok
test retry::tests::test_retry_state_creation ... ok
test retry::tests::test_total_retry_error_display ... ok
test media::tests::test_validate_media_file_too_large ... ok
test rate_limit::tests::test_window_reset ... ok
test retry::tests::test_retry_executor_failure ... ok

test result: ok. 44 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 2.40s

     Running unittests src/lib.rs (target/debug/deps/aisopod_channel_whatsapp-f5daca55636bac3b)

running 19 tests
test receive::tests::test_message_type_extractor ... ok
test receive::tests::test_filter_allowed_numbers ... ok
test receive::tests::test_parse_group_image_message ... ok
test receive::tests::test_parse_image_message ... ok
test receive::tests::test_parse_group_message ... ok
test receive::tests::test_parse_multiple_group_messages ... ok
test receive::tests::test_parse_location_message ... ok
test tests::test_channel_registration ... ok
test receive::tests::test_parse_text_message ... ok
test tests::test_parse_webhook_payload_text ... ok
test tests::test_whatsapp_account_config_default ... ok
test receive::tests::test_parse_multiple_messages ... ok
test tests::test_whatsapp_account_config_new ... ok
test tests::test_whatsapp_mode_serialization ... ok
test tests::test_whatsapp_mode_deserialization ... ok
test webhook::tests::test_webhook_verify_response_serialization ... ok
test webhook::tests::test_webhook_verify_token_mismatch ... ok
test webhook::tests::test_webhook_verify_valid ... ok
test tests::test_should_process_message_filtered ... ok

test result: ok. 19 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/lib.rs (target/debug/deps/aisopod_channel_zalo-99ad454f17c0d6dc)

running 18 tests
test auth::tests::test_zalo_auth_token_expiry ... ok
test channel::tests::test_zalo_account_config_default ... ok
test api::tests::test_message_payload_serialization ... ok
test auth::tests::test_zalo_auth_initialization ... ok
test channel::tests::test_zalo_account_config_serialization ... ok
test channel::tests::test_zalo_account_disabled ... ok
test channel::tests::test_zalo_account_is_enabled ... ok
test config::tests::test_base_url ... ok
test config::tests::test_default_config ... ok
test config::tests::test_webhook_url ... ok
test tests::test_zalo_constants ... ok
test webhook::tests::test_parse_webhook_event_follow ... ok
test webhook::tests::test_parse_webhook_event_missing_event_name ... ok
test webhook::tests::test_parse_webhook_event_unknown ... ok
test webhook::tests::test_parse_webhook_event_user_send_text ... ok
test webhook::tests::test_verify_webhook_signature ... ok
test webhook::tests::test_verify_webhook_signature_missing_token ... ok
test api::tests::test_zalo_api_initialization ... ok

test result: ok. 18 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.09s

     Running unittests src/lib.rs (target/debug/deps/aisopod_client-2b356dddfca0156f)

running 3 tests
test client::tests::test_auth_request_serialization ... ok
test client::tests::test_build_auth_request ... ok
test client::tests::test_client_config_defaults ... ok

test result: ok. 3 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/conformance/mod.rs (target/debug/deps/conformance-b7ad91e3e0d38e64)

running 25 tests
test canvas::test_canvas_interact_unknown_canvas ... ok
test device_pairing::test_device_info_structure ... ok
test canvas::test_canvas_structure ... ok
test canvas::test_canvas_event_structure ... ok
test device_pairing::test_device_capability_structure ... ok
test device_pairing::test_pair_request_returns_code ... ok
test device_pairing::test_pair_confirm_with_invalid_code ... ok
test canvas::test_canvas_update_structure ... ok
test error_handling::test_invalid_json_rpc_format ... ok
test error_handling::test_malformed_message_handling ... ok
test error_handling::test_invalid_json_request ... ok
test error_handling::test_missing_token ... ok
test error_handling::test_rate_limiting ... ok
test error_handling::test_unauthorized_access ... ok
test handshake::test_handshake_without_auth_header ... ok
test handshake::test_welcome_message_fields ... ok
test rpc_methods::test_malformed_json_rpc_returns_error ... ok
test handshake::test_successful_handshake ... ok
test rpc_methods::test_unknown_method_returns_method_not_found ... ok
test version_negotiation::test_client_config_protocol_version ... ok
test version_negotiation::test_compatible_version ... ok
test rpc_methods::test_valid_jsonrpc_request ... ok
test version_negotiation::test_incompatible_major_version ... ok
test version_negotiation::test_missing_version_defaults_to_1_0 ... ok
test version_negotiation::test_version_header_format ... ok

test result: ok. 25 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/integration_test.rs (target/debug/deps/integration_test-261dcbb43908269a)

running 11 tests
test test_client_request_timeout ... ok
test test_client_connection_lifecycle ... ok
test test_default_config ... ok
test test_device_capability_serialization ... ok
test test_auth_request_serialization ... ok
test test_client_config_serialization ... ok
test test_device_info_serialization ... ok
test test_error_codes ... ok
test test_jsonrpc_request_serialization ... ok
test test_jsonrpc_error_response ... ok
test test_jsonrpc_response_parsing ... ok

test result: ok. 11 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/lib.rs (target/debug/deps/aisopod_config-598f0d5899c5d7df)

running 64 tests
test env::tests::test_default_with_colon ... ok
test env::tests::test_expand_with_default ... ok
test env::tests::test_expand_set_variable ... ok
test env::tests::test_mixed_substitutions ... ok
test env::tests::test_error_on_unset_required ... ok
test env::tests::test_empty_string ... ok
test env::tests::test_multiple_substitutions ... ok
test generate::tests::test_config_format_enum ... ok
test generate::tests::test_generate_config_with_format ... ok
test generate::tests::test_generate_default_toml ... ok
test env::tests::test_no_substitution_needed ... ok
test env::tests::test_non_string_values_unchanged ... ok
test env::tests::test_array_values ... ok
test env::tests::test_nested_object ... ok
test includes::tests::test_process_includes_array ... ok
test includes::tests::test_process_includes_invalid_array_element ... ok
test includes::tests::test_process_includes_invalid_value_type ... ok
test includes::tests::test_process_includes_merge_behavior ... ok
test includes::tests::test_process_includes_nonexistent_file ... ok
test includes::tests::test_process_includes_nested ... ok
test loader::tests::test_check_file_permissions_group_readable ... ok
test includes::tests::test_process_includes_single_string ... ok
test loader::tests::test_check_file_permissions_invalid_path ... ok
test loader::tests::test_check_file_permissions_secure ... ok
test loader::tests::test_check_file_permissions_world_readable ... ok
test loader::tests::test_load_config_auto_detect_json5 ... ok
test loader::tests::test_load_config_auto_detect_json ... ok
test loader::tests::test_load_config_file_not_found ... ok
test loader::tests::test_load_config_invalid_json5 ... ok
test includes::tests::test_process_includes_circular ... ok
test loader::tests::test_load_config_json5_with_comments ... ok
test loader::tests::test_load_config_unsupported_extension ... ok
test sensitive::tests::test_debug_redacts ... ok
test sensitive::tests::test_default ... ok
test sensitive::tests::test_display_redacts ... ok
test sensitive::tests::test_expose_returns_inner ... ok
test sensitive::tests::test_nested_structure ... ok
test sensitive::tests::test_serde_roundtrip ... ok
test types::sandbox::tests::test_sandbox_config_default ... ok
test types::sandbox::tests::test_sandbox_config_deserialize ... ok
test types::sandbox::tests::test_sandbox_config_deserialize_with_user ... ok
test types::sandbox::tests::test_sandbox_config_serialize ... ok
test types::sandbox::tests::test_sandbox_config_with_user ... ok
test loader::tests::test_load_config_json5_with_trailing_comma ... ok
test validation::tests::test_default_config_is_valid ... ok
test validation::tests::test_duplicate_agent_names_detected ... ok
test validation::tests::test_empty_address_detected ... ok
test validation::tests::test_empty_version_detected ... ok
test validation::tests::test_invalid_port_detected ... ok
test validation::tests::test_multiple_errors_collected ... ok
test loader::tests::test_load_config_json5_basic ... ok
test watcher::tests::test_diff_sections ... ok
test watcher::tests::test_diff_sections_identical ... ok
test watcher::tests::test_diff_sections_multiple_sections ... ok
test watcher::tests::test_watcher_file_not_found ... ok
test watcher::tests::test_watcher_initializes_correctly ... ok
test generate::tests::test_generated_configs_are_valid ... ok
test generate::tests::test_generated_toml_is_parseable ... ok
test generate::tests::test_default_values_match ... ok
test watcher::tests::test_watcher_drop_stops_task ... ok
test generate::tests::test_generate_default_json5 ... ok
test generate::tests::test_generated_json5_is_parseable ... ok
test watcher::tests::test_watcher_detects_change ... ok
test watcher::tests::test_watcher_keeps_config_on_validation_error ... ok

test result: ok. 64 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.58s

     Running tests/env_substitution.rs (target/debug/deps/env_substitution-30a84f88c394730f)

running 23 tests
test test_concurrent_var_substitution ... ok
test test_deeply_nested_expansion ... ok
test test_consecutive_substitutions ... ok
test test_default_with_empty_string ... ok
test test_default_with_colon_in_value ... ok
test test_array_expansion ... ok
test test_empty_string ... ok
test test_error_on_unset_required ... ok
test test_env_var_with_special_chars ... ok
test test_expand_set_variable ... ok
test test_expand_with_default ... ok
test test_complex_nested_structure ... ok
test test_multiple_substitutions ... ok
test test_multiple_vars_in_one_string ... ok
test test_multiple_defaults_in_one_value ... ok
test test_mixed_defaults_and_required_vars ... ok
test test_array_of_objects_with_env_vars ... ok
test test_env_var_in_array_indices ... ok
test test_nested_object_expansion ... ok
test test_no_substitution_needed ... ok
test test_substitution_with_numeric_string ... ok
test test_non_string_values_unchanged ... ok
test test_very_long_default_value ... ok

test result: ok. 23 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.10s

     Running tests/load_json5.rs (target/debug/deps/load_json5-9bba39a79d306e7c)

running 8 tests
test include_directive_tests::test_include_removes_include_key ... ok
test include_directive_tests::test_include_with_env_vars ... ok
test include_directive_tests::test_load_config_with_include ... ok
test include_directive_tests::test_load_config_circular_include ... ok
test include_directive_tests::test_nested_include_processing ... ok
test test_load_sample_with_auto_detect ... ok
test test_load_sample_json5 ... ok
test include_directive_tests::test_load_config_with_array_include ... ok

test result: ok. 8 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.04s

     Running tests/load_toml.rs (target/debug/deps/load_toml-1e8f92feb37dce83)

running 7 tests
test test_load_config_toml_file_not_found ... ok
test test_load_config_toml_invalid_syntax ... ok
test test_load_config_toml_with_comments ... ok
test test_load_config_toml_basic ... ok
test test_load_config_toml_nested_tables ... ok
test test_load_sample_toml ... ok
test test_load_sample_with_auto_detect ... ok

test result: ok. 7 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.02s

     Running unittests src/lib.rs (target/debug/deps/aisopod_gateway-c237d4081b3bfc57)

running 203 tests
test audit::tests::test_log_auth_failure_compiles ... ok
test audit::tests::test_log_approval_event_compiles ... ok
test audit::tests::test_log_auth_success_compiles ... ok
test audit::tests::test_log_authz_decision_compiles ... ok
test audit::tests::test_log_config_change_compiles ... ok
test audit::tests::test_log_tool_execution_compiles ... ok
test audit::tests::test_redact_sensitive_empty ... ok
test audit::tests::test_redact_sensitive_basic ... ok
test audit::tests::test_redact_sensitive_long_value ... ok
test auth::device_tokens::tests::test_refresh_nonexistent_device ... ok
test auth::device_tokens::tests::test_revoke_nonexistent_device ... ok
test auth::device_tokens::tests::test_revoke_prevents_validation ... ok
test auth::device_tokens::tests::test_token_hash_not_exposed ... ok
test auth::password::tests::test_verify_corrupted_hash ... ok
test auth::password::tests::test_hash_password_valid ... ok
test auth::device_tokens::tests::test_multiple_devices_with_scopes ... ok
test auth::device_tokens::tests::test_persistence_across_loads ... ok
test auth::scopes::tests::test_method_scopes_mapping ... ok
test auth::scopes::tests::test_requires_scope_validation ... ok
test auth::scopes::tests::test_scope_allows ... ok
test auth::device_tokens::tests::test_list_devices ... ok
test auth::scopes::tests::test_scope_as_str ... ok
test auth::scopes::tests::test_scope_display ... ok
test auth::tests::test_auth_info_has_any_scope ... ok
test auth::tests::test_auth_info_has_role ... ok
test auth::tests::test_auth_info_has_scope ... ok
test auth::tests::test_build_password_map ... ok
test auth::tests::test_build_token_map ... ok
test auth::tests::test_default_auth_info ... ok
test auth::tests::test_validate_basic_invalid_credentials ... ok
test auth::tests::test_validate_basic_invalid_user ... ok
test auth::tests::test_validate_basic_success ... ok
test auth::tests::test_validate_basic_wrong_mode ... ok
test auth::tests::test_validate_password_hash_not_implemented ... ok
test auth::tests::test_validate_token_invalid ... ok
test auth::tests::test_validate_token_success ... ok
test auth::tests::test_validate_token_with_store_not_implemented ... ok
test auth::tests::test_validate_token_wrong_mode ... ok
test auth::tokens::tests::test_generate_token_length ... ok
test auth::tokens::tests::test_generate_token_uniqueness ... ok
test broadcast::tests::test_broadcaster_event_serialization ... ok
test auth::tokens::tests::test_token_rotation ... ok
test broadcast::tests::test_broadcaster_multiple_subscribers ... ok
test broadcast::tests::test_broadcaster_publish_and_subscribe ... ok
test broadcast::tests::test_gateway_event_agent_type ... ok
test broadcast::tests::test_gateway_event_approval_serialization ... ok
test broadcast::tests::test_gateway_event_approval_type ... ok
test broadcast::tests::test_gateway_event_chat_type ... ok
test broadcast::tests::test_gateway_event_health_type ... ok
test broadcast::tests::test_gateway_event_presencetype ... ok
test broadcast::tests::test_subscription_default_includes_all_events ... ok
test broadcast::tests::test_subscription_includes ... ok
test broadcast::tests::test_subscription_with_events ... ok
test client::tests::test_client_registry_health_snapshot ... ok
test client::tests::test_client_registry_concurrent_access ... ok
test client::tests::test_client_registry_new_is_empty ... ok
test client::tests::test_client_registry_list ... ok
test client::tests::test_client_registry_on_connect ... ok
test client::tests::test_client_registry_on_disconnect ... ok
test client::tests::test_client_registry_on_disconnect_unknown ... ok
test client::tests::test_gateway_client_creation_from_auth_info ... ok
test client::tests::test_health_snapshot_empty ... ok
test client::tests::test_gateway_client_creation_with_auth ... ok
test middleware::auth::tests::test_auth_middleware_none ... ok
test middleware::auth::tests::test_auth_middleware_password_invalid ... ok
test middleware::auth::tests::test_auth_middleware_password_success ... ok
test middleware::auth::tests::test_auth_middleware_token_invalid ... ok
test middleware::auth::tests::test_auth_middleware_token_missing ... ok
test middleware::auth::tests::test_auth_middleware_token_success ... ok
test middleware::auth::tests::test_health_endpoint_always_allowed ... ok
test middleware::rate_limit::tests::test_at_limit ... ok
test middleware::rate_limit::tests::test_different_ips_independent ... ok
test middleware::rate_limit::tests::test_sliding_window_expiry ... ok
test middleware::rate_limit::tests::test_over_limit ... ok
test middleware::security::tests::test_request_size_limits_check_body ... ok
test middleware::rate_limit::tests::test_under_limit ... ok
test middleware::security::tests::test_request_size_limits_check_headers_size ... ok
test middleware::security::tests::test_request_size_limits_check_headers_count ... ok
test middleware::security::tests::test_request_size_limits_custom ... ok
test middleware::security::tests::test_request_size_limits_default ... ok
test middleware::security::tests::test_sanitize_input_basic ... ok
test middleware::security::tests::test_sanitize_input_combined ... ok
test middleware::security::tests::test_sanitize_input_null_bytes ... ok
test middleware::security::tests::test_sanitize_input_line_endings ... ok
test middleware::security::tests::test_secret_string_deref ... ok
test middleware::security::tests::test_secret_string_debug ... ok
test middleware::security::tests::test_secret_string_partial_eq ... ok
test middleware::security::tests::test_validate_no_injection_clean ... ok
test middleware::security::tests::test_validate_no_injection_cmd_backtick ... ok
test middleware::security::tests::test_validate_no_injection_cmd_dollar ... ok
test middleware::security::tests::test_validate_no_injection_cmd_pipe ... ok
test middleware::security::tests::test_validate_no_injection_cmd_semicolon ... ok
test middleware::security::tests::test_validate_no_injection_comment_syntax ... ok
test middleware::security::tests::test_validate_no_injection_multiple_patterns ... ok
test middleware::security::tests::test_validate_no_injection_sql_basic ... ok
test middleware::security::tests::test_validate_no_injection_sql_union ... ok
test middleware::security::tests::test_validate_no_injection_sql_case_insensitive ... ok
test middleware::security::tests::test_validate_no_injection_xss_onerror ... ok
test middleware::security::tests::test_validate_no_injection_xss_script ... ok
test rpc::approval::tests::test_approval_request_params_deserialization ... ok
test rpc::approval::tests::test_approval_request_params_minimal ... ok
test rpc::approval::tests::test_approval_store_list ... ok
test rpc::approval::tests::test_approval_store_new ... ok
test rpc::approval::tests::test_approval_store_remove ... ok
test rpc::approval::tests::test_approval_store_store_and_get ... ok
test rpc::canvas::tests::test_canvas_action_serialization ... ok
test rpc::canvas::tests::test_canvas_content_minimal_serialization ... ok
test rpc::canvas::tests::test_canvas_content_serialization ... ok
test rpc::canvas::tests::test_canvas_interact_params_deserialization ... ok
test rpc::canvas::tests::test_canvas_interact_params_minimal ... ok
test rpc::canvas::tests::test_canvas_interact_result_serialization ... ok
test rpc::canvas::tests::test_canvas_state_create_or_update ... ok
test rpc::canvas::tests::test_canvas_state_destroy ... ok
test rpc::canvas::tests::test_canvas_state_exists ... ok
test rpc::canvas::tests::test_canvas_state_get ... ok
test rpc::canvas::tests::test_canvas_state_update_replaces ... ok
test rpc::canvas::tests::test_canvas_state_new_is_empty ... ok
test rpc::canvas::tests::test_canvas_update_params_serialization ... ok
test rpc::chat::tests::test_send_message_params_deserialization ... ok
test rpc::chat::tests::test_send_message_params_empty_text ... ok
test rpc::chat::tests::test_send_message_params_minimal ... ok
test rpc::handler::tests::test_canvas_interact_handler_invalid_params ... ok
test rpc::handler::tests::test_canvas_interact_handler_minimal ... ok
test rpc::handler::tests::test_canvas_interact_handler_missing_params ... ok
test rpc::handler::tests::test_canvas_interact_handler_success ... ok
test rpc::handler::tests::test_default_router_contains_agent_methods ... ok
test rpc::handler::tests::test_default_router_contains_canvas_methods ... ok
test rpc::handler::tests::test_default_router_method_count ... ok
test rpc::handler::tests::test_method_router_dispatch_known_method ... ok
test rpc::handler::tests::test_request_context_creation ... ok
test rpc::handler::tests::test_method_router_dispatch_unknown_method ... ok
test rpc::middleware::auth::tests::test_check_scope_admin_allows_all ... ok
test rpc::middleware::auth::tests::test_check_scope_approvals ... ok
test rpc::middleware::auth::tests::test_check_scope_empty_scopes ... ok
test rpc::middleware::auth::tests::test_check_scope_multiple_scopes ... ok
test rpc::middleware::auth::tests::test_check_scope_no_required_scope ... ok
test rpc::middleware::auth::tests::test_check_scope_pairing ... ok
test rpc::middleware::auth::tests::test_check_scope_with_matching_scope ... ok
test rpc::middleware::auth::tests::test_check_scope_without_required_scope ... ok
test rpc::middleware::auth::tests::test_check_scope_write_allows_write_methods ... ok
test rpc::middleware::auth::tests::test_check_scope_write_denies_admin ... ok
test rpc::node_capabilities::tests::test_node_describe_handler_invalid_params ... ok
test rpc::node_capabilities::tests::test_node_describe_handler_missing_params ... ok
test rpc::node_capabilities::tests::test_node_describe_handler_new ... ok
test rpc::node_capabilities::tests::test_node_describe_handler_success ... ok
test rpc::node_capabilities::tests::test_node_describe_handler_unauthenticated ... ok
test rpc::node_capabilities::tests::test_node_describe_handler_with_deps ... ok
test rpc::node_capabilities::tests::test_node_describe_handler_wrong_role ... ok
test rpc::node_capabilities::tests::test_node_invoke_handler_invalid_timeout ... ok
test rpc::node_capabilities::tests::test_node_invoke_handler_missing_params ... ok
test rpc::node_capabilities::tests::test_node_invoke_handler_new ... ok
test rpc::node_capabilities::tests::test_node_invoke_handler_timeout_exceeded ... ok
test rpc::node_pair::tests::test_generate_pairing_code_format ... ok
test rpc::node_pair::tests::test_generate_pairing_code_unique ... ok
test rpc::node_pair::tests::test_is_valid_device_type ... ok
test rpc::node_pair::tests::test_pair_confirm_device_id_mismatch ... ok
test rpc::node_pair::tests::test_pair_confirm_invalid_code ... ok
test auth::device_tokens::tests::test_issue_and_validate ... ok
test rpc::node_pair::tests::test_pair_request_invalid_device_id ... ok
test rpc::node_pair::tests::test_pair_request_invalid_device_type ... ok
test rpc::node_pair::tests::test_pair_request_missing_params ... ok
test rpc::node_pair::tests::test_pair_request_success ... ok
test rpc::node_pair::tests::test_pair_revoke_nonexistent_device ... ok
test auth::password::tests::test_hash_unique_salts ... ok
test rpc::node_pair::tests::test_pairing_store_cleanup_expired ... ok
test rpc::types::tests::test_parse_empty_method ... ok
test rpc::types::tests::test_parse_invalid_json ... ok
test rpc::types::tests::test_parse_missing_method ... ok
test rpc::types::tests::test_parse_notification_request ... ok
test rpc::types::tests::test_parse_request_missing_jsonrpc ... ok
test rpc::types::tests::test_parse_request_with_only_required_fields ... ok
test rpc::types::tests::test_parse_valid_request ... ok
test rpc::node_pair::tests::test_pair_confirm_success ... ok
test rpc::types::tests::test_parse_wrong_jsonrpc_version ... ok
test rpc::types::tests::test_parse_valid_request_with_params ... ok
test rpc::types::tests::test_rpc_response_error ... ok
test rpc::types::tests::test_rpc_response_error_with_data ... ok
test rpc::types::tests::test_rpc_response_success ... ok
test rpc::types::tests::test_serialize_rpc_response_error ... ok
test rpc::types::tests::test_serialize_rpc_response_success ... ok
test ws::version::tests::test_is_compatible_with_client_higher_minor ... ok
test ws::version::tests::test_is_compatible_with_different_major ... ok
test ws::version::tests::test_is_compatible_with_exact_match ... ok
test ws::version::tests::test_is_compatible_with_server_higher_minor ... ok
test ws::version::tests::test_is_compatible_with_zero_major ... ok
test ws::version::tests::test_negotiate_version_default ... ok
test ws::version::tests::test_negotiate_version_incompatible_higher_minor ... ok
test ws::version::tests::test_negotiate_version_incompatible_major ... ok
test ws::version::tests::test_negotiate_version_parse_error ... ok
test ws::version::tests::test_negotiate_version_valid ... ok
test ws::version::tests::test_negotiate_version_valid_lower_minor ... ok
test ws::version::tests::test_protocol_version_display ... ok
test ws::version::tests::test_protocol_version_new ... ok
test ws::version::tests::test_protocol_version_parse_invalid_format ... ok
test ws::version::tests::test_protocol_version_parse_valid ... ok
test ws::version::tests::test_server_protocol_version_constant ... ok
test ws::version::tests::test_version_negotiation_error_display ... ok
test auth::password::tests::test_verify_password_invalid ... ok
test auth::password::tests::test_verify_password_valid ... ok
test rpc::node_pair::tests::test_full_pairing_flow ... ok
test auth::password::tests::test_verify_empty_password ... ok
test auth::device_tokens::tests::test_refresh_invalidates_old_token ... ok
test rpc::node_pair::tests::test_pair_revoke_success ... ok

test result: ok. 203 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 4.12s

     Running tests/integration.rs (target/debug/deps/integration-bdc2abe1f73ecf86)

running 16 tests
test test_malformed_json_returns_parse_error ... ok
test test_broadcast_event_received ... ok
test test_no_auth_mode ... ok
test test_health_returns_200 ... ok
test test_password_auth_rejected ... ok
test test_over_limit_returns_429 ... ok
test test_password_auth_success ... ok
test test_invalid_token_rejected ... ok
test test_static_file_fallback ... ok
test test_unknown_method_returns_not_found ... ok
test test_valid_rpc_request ... ok
test test_ws_auth_rejected ... ok
test test_ws_connect_and_ping ... ok
test test_under_limit_allowed ... ok
test test_valid_token_accepted ... ok
test test_stub_endpoints_return_501 ... ok

test result: ok. 16 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.86s

     Running tests/security_integration.rs (target/debug/deps/security_integration-73a8fa0cd4217258)

running 13 tests
test test_missing_password_rejected ... ok
test test_insufficient_scope_for_write_method ... ok
test test_authenticated_request_accepted ... ok
test test_missing_token_rejected ... ok
test test_admin_scope_allows_all ... ok
test test_authenticated_password_request_accepted ... ok
test test_health_endpoint_always_allowed ... ok
test test_insufficient_scope_rejected ... ok
test test_wrong_password_rejected ... ok
test test_unauthenticated_request_rejected ... ok
test test_write_method_requires_write_scope ... ok
test test_no_auth_mode_allows_all ... ok
test test_read_method_requires_read_scope ... ok

test result: ok. 13 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.67s

     Running tests/static_files_test.rs (target/debug/deps/static_files_test-0fabaa6efee51059)

running 9 tests
test test_api_route_returns_not_found ... ok
test test_nonexistent_file_returns_index_html ... ok
test test_root_path ... ok
test test_serve_index_html ... ok
test test_spa_fallback_for_unknown_path ... ok
test test_png_file_content_type ... ok
test test_serve_hashed_asset ... ok
test test_serve_css_file ... ok
test test_serve_js_file ... ok

test result: ok. 9 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.03s

     Running tests/tls_test.rs (target/debug/deps/tls_test-42e5bc7d57f74180)

running 2 tests
test test_tls_enabled_check ... ok
test test_tls_config_loading ... ok

test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.16s

     Running tests/ui_integration.rs (target/debug/deps/ui_integration-ce76f1597ef4eb5f)

running 13 tests
test test_health_endpoint ... ok
test test_api_routes_return_not_found ... ok
test test_index_html_cache_headers ... ok
test test_deep_spa_fallback_with_query_params ... ok
test test_serves_index_html ... ok
test test_index_html_contains_theme_support ... ok
test test_png_asset_served ... ok
test test_spa_fallback_serves_index ... ok
test test_spa_fallback_deep_routes ... ok
test test_serves_css_with_correct_mime ... ok
test test_static_file_cache_headers ... ok
test test_serves_js_assets ... ok
test test_websocket_connection ... ok

test result: ok. 13 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.11s

     Running unittests src/lib.rs (target/debug/deps/aisopod_memory-a9b373ee9c923db1)

running 76 tests
test embedding::mock::tests::test_mock_provider_new ... ok
test embedding::openai::tests::test_compute_hash ... ok
test embedding::mock::tests::test_mock_provider_deterministic ... ok
test embedding::mock::tests::test_mock_provider_different_texts ... ok
test embedding::mock::tests::test_mock_provider_cache ... ok
test embedding::mock::tests::test_mock_provider_different_dimensions ... ok
test embedding::mock::tests::test_mock_provider_unit_vector ... ok
test integration::tests::test_build_memory_context_with_empty_query ... ok
test integration::tests::test_build_memory_context_empty_conversation ... ok
test integration::tests::test_build_memory_context_with_whitespace_only ... ok
test integration::tests::test_build_memory_context_with_messages ... ok
test integration::tests::test_memory_tool_delete_idempotent ... ok
test integration::tests::test_memory_tool_delete ... ok
test integration::tests::test_memory_tool_query ... ok
test integration::tests::test_memory_tool_query_multiple_results ... ok
test integration::tests::test_no_memory_configured ... ok
test integration::tests::test_memory_tool_store ... ok
test management::tests::test_consolidate_preserves_different ... ok
test management::tests::test_cosine_similarity ... ok
test management::tests::test_consolidate_similar ... ok
test integration::tests::test_memory_context_with_empty_agent_id ... ok
test management::tests::test_enforce_quota ... ok
test management::tests::test_extract_facts_from_content_assistant ... ok
test management::tests::test_extract_facts_from_content_user ... ok
test management::tests::test_is_fact_like ... ok
test integration::tests::test_build_memory_context_with_memories ... ok
test integration::tests::test_build_memory_context_with_recent_messages ... ok
test management::tests::test_memory_manager_config_default ... ok
test management::tests::test_expire_old_entries ... ok
test management::tests::test_expire_preserves_important ... ok
test management::tests::test_maintain_runs_all ... ok
test integration::tests::test_memory_context_with_no_memories_match ... ok
test integration::tests::test_memory_context_with_importance_ranking ... ok
test pipeline::tests::test_format_context_with_empty_matches ... ok
test pipeline::tests::test_embedder_reference ... ok
test pipeline::tests::test_format_context_empty ... ok
test pipeline::tests::test_recency_factor ... ok
test pipeline::tests::test_recency_factor_decay ... ok
test pipeline::tests::test_recency_factor_edge_cases ... ok
test pipeline::tests::test_query_empty_store ... ok
test sqlite::tests::test_delete_entry ... ok
test sqlite::tests::test_delete_nonexistent ... ok
test sqlite::tests::test_embedder_integration ... ok
test pipeline::tests::test_query_and_format ... ok
test sqlite::tests::test_empty_content_handling ... ok
test sqlite::tests::test_list_empty ... ok
test sqlite::tests::test_list_with_agent_filter ... ok
test sqlite::tests::test_list_with_importance_filter_edge_cases ... ok
test sqlite::tests::test_list_with_importance_filter_levels ... ok
test sqlite::tests::test_list_with_multiple_filters ... ok
test sqlite::tests::test_list_with_source_filter ... ok
test sqlite::tests::test_list_with_tag_filter ... ok
test sqlite::tests::test_query_empty_store ... ok
test sqlite::tests::test_multiple_agents_isolated ... ok
test pipeline::tests::test_store_reference ... ok
test sqlite::tests::test_similarity_search_agent_scoped ... ok
test sqlite::tests::test_similarity_search_returns_closest ... ok
test sqlite::tests::test_similarity_search_min_score ... ok
test sqlite::tests::test_similarity_search_top_k ... ok
test pipeline::tests::test_format_context_with_matches ... ok
test sqlite::tests::test_store_and_retrieve ... ok
test sqlite::tests::test_store_generates_id ... ok
test sqlite::tests::test_sqlite_store_new ... ok
test types::tests::test_memory_entry_new ... ok
test types::tests::test_memory_filter_default ... ok
test types::tests::test_memory_match ... ok
test types::tests::test_memory_metadata_default ... ok
test types::tests::test_memory_query_options_default ... ok
test types::tests::test_memory_source_serialization ... ok
test sqlite::tests::test_store_overwrites_existing ... ok
test integration::tests::test_memory_context_with_multiple_memories ... ok
test sqlite::tests::test_sqlite_store_store_and_query ... ok
test sqlite::tests::test_sqlite_store_delete ... ok
test pipeline::tests::test_query_with_min_score ... ok
test pipeline::tests::test_query_with_agent_filter ... ok
test pipeline::tests::test_query_with_top_k ... ok

test result: ok. 76 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.62s

     Running tests/test_integration.rs (target/debug/deps/test_integration-74c4a187595648eb)

running 15 tests
test test_memory_context_with_empty_conversation ... ok
test test_memory_tool_delete_nonexistent ... ok
test test_build_memory_context_empty ... ok
test test_memory_context_with_message_parts ... ok
test test_memory_manager_with_integration ... ok
test test_memory_tool_delete ... ok
test test_build_memory_context ... ok
test test_no_memory_configured ... ok
test test_memory_context_with_agent_scoping ... ok
test test_memory_tool_store ... ok
test test_memory_tool_query_empty ... ok
test test_memory_tool_with_tags ... ok
test test_memory_tool_query ... ok
test test_memory_tool_store_multiple ... ok
test test_memory_tool_query_top_k ... ok

test result: ok. 15 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.05s

     Running tests/test_management.rs (target/debug/deps/test_management-e931ca4b70b414c8)

running 15 tests
test test_consolidate_empty_store ... ok
test test_consolidate_single_entry ... ok
test test_expire_deletes_old_low_importance ... ok
test test_consolidate_preserves_different ... ok
test test_enforce_quota_exactly_at_limit ... ok
test test_consolidate_merges_similar ... ok
test test_enforce_quota_no_eviction_needed ... ok
test test_enforce_quota_evicts_low_importance ... ok
test test_expire_preserves_high_importance ... ok
test test_maintain_empty_store ... ok
test test_expire_preserves_recent ... ok
test test_expire_mixed_entries ... ok
test test_maintain_no_operations_needed ... ok
test test_maintain_multiple_agents ... ok
test test_maintain_runs_all_operations ... ok

test result: ok. 15 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.02s

     Running tests/test_search.rs (target/debug/deps/test_search-c68ca7ee19b9ae9c)

running 7 tests
test test_similarity_search_empty_store ... ok
test test_similarity_search_with_importance_filter ... ok
test test_similarity_search_returns_closest ... ok
test test_similarity_search_ranking ... ok
test test_similarity_search_min_score ... ok
test test_similarity_search_agent_scoped ... ok
test test_similarity_search_top_k ... ok

test result: ok. 7 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.01s

     Running tests/test_storage.rs (target/debug/deps/test_storage-6a3fe947f4140ff1)

running 9 tests
test test_list_empty ... ok
test test_store_generates_id ... ok
test test_store_and_retrieve ... ok
test test_delete_entry ... ok
test test_delete_nonexistent ... ok
test test_list_with_agent_filter ... ok
test test_list_with_importance_filter ... ok
test test_list_with_tag_filter ... ok
test test_store_overwrites_existing ... ok

test result: ok. 9 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.01s

     Running unittests src/lib.rs (target/debug/deps/aisopod_plugin-a06633c1107b87d2)

running 170 tests
test api::tests::test_plugin_api_debug ... ok
test api::tests::test_getters ... ok
test api::tests::test_plugin_api_new ... ok
test api::tests::test_register_command_invalid_name ... ok
test api::tests::test_register_command ... ok
test builtin::tests::test_list_available_builtins ... ok
test api::tests::test_register_command_reserved_name ... ok
test builtin::tests::test_register_builtin_plugins_empty ... ok
test commands::tests::test_authorization_required ... ok
test commands::tests::test_command_registry_new ... ok
test commands::tests::test_clear_commands ... ok
test commands::tests::test_execute_command ... ok
test commands::tests::test_execute_sanitizes_arguments ... ok
test commands::tests::test_get_command ... ok
test commands::tests::test_has_command ... ok
test commands::tests::test_execute_command_not_found ... ok
test commands::tests::test_register_command ... ok
test commands::tests::test_register_invalid_command_name ... ok
test commands::tests::test_register_reserved_command ... ok
test commands::tests::test_register_duplicate_command ... ok
test config::tests::test_config_error_debug ... ok
test commands::tests::test_list_commands ... ok
test config::tests::test_config_error_display ... ok
test config::tests::test_plugin_config_contains_key ... ok
test config::tests::test_plugin_config_from_main_config_found ... ok
test config::tests::test_plugin_config_from_main_config_no_plugins_section ... ok
test config::tests::test_plugin_config_from_main_config_not_found ... ok
test config::tests::test_plugin_config_get ... ok
test config::tests::test_plugin_config_new ... ok
test config::tests::test_plugin_config_plugin_id ... ok
test config::tests::test_plugin_config_schema_merge_defaults ... ok
test config::tests::test_plugin_config_schema_merge_defaults_missing_fields ... ok
test config::tests::test_plugin_config_schema_new ... ok
test config::tests::test_plugin_config_schema_validate_missing_field ... ok
test config::tests::test_plugin_config_schema_validate_success ... ok
test config::tests::test_plugin_config_schema_validate_type_error ... ok
test config::tests::test_plugin_config_values ... ok
test dynamic::tests::test_discover_nonexistent_directory ... ok
test dynamic::tests::test_dynamic_plugin_loader_new ... ok
test dynamic::tests::test_discover_empty_directory ... ok
test dynamic::tests::test_library_filename_linux ... ok
test dynamic::tests::test_library_filename_macos ... ok
test dynamic::tests::test_library_filename_windows ... ok
test hook::tests::test_hook_clone_eq ... ok
test dynamic::tests::test_discover_invalid_manifest ... ok
test dynamic::tests::test_check_version_compatibility_no_constraints ... ok
test hook::tests::test_hook_context_new ... ok
test dynamic::tests::test_check_version_compatibility_with_constraints ... ok
test dynamic::tests::test_check_version_compatibility_host_too_old ... ok
test hook::tests::test_hook_context_with_data ... ok
test hook::tests::test_hook_context_with_data_entry ... ok
test hook::tests::test_hook_debug ... ok
test dynamic::tests::test_discover_with_valid_manifest ... ok
test dynamic::tests::test_discover_multiple_plugins ... ok
test hook::tests::test_hook_registry_register ... ok
test hook::tests::test_hook_registry_handler_count ... ok
test hook::tests::test_hook_registry_dispatch_error_handling ... ok
test hook::tests::test_hook_registry_dispatch_no_handlers ... ok
test hook::tests::test_hook_registry_dispatch_with_handlers ... ok
test hook::tests::test_hook_registry_total_hook_count ... ok
test hook::tests::test_hook_registry_new ... ok
test manifest::tests::test_capabilities_defaults ... ok
test manifest::tests::test_debug_output ... ok
test manifest::tests::test_from_str_multiple_errors ... ok
test manifest::tests::test_clone ... ok
test manifest::tests::test_from_str_parse_error ... ok
test manifest::tests::test_from_str_valid_minimal ... ok
test manifest::tests::test_from_str_semver_edge_cases ... ok
test manifest::tests::test_validation_empty_entry_point ... ok
test manifest::tests::test_validation_empty_id ... ok
test manifest::tests::test_from_str_valid_with_compatibility ... ok
test manifest::tests::test_validation_empty_name ... ok
test registry::tests::test_get_plugin ... ok
test manifest::tests::test_validation_whitespace_id ... ok
test manifest::tests::test_validation_invalid_version ... ok
test manifest::tests::test_from_str_valid_with_capabilities ... ok
test registry::tests::test_init_all ... ok
test registry::tests::test_list_plugins ... ok
test registry::tests::test_register_duplicate_plugin ... ok
test registry::tests::test_load_order_preserved ... ok
test security::tests::test_max_arg_size ... ok
test registry::tests::test_register_plugin ... ok
test registry::tests::test_registry_new ... ok
test registry::tests::test_shutdown_all ... ok
test security::tests::test_reserved_commands_case_insensitive ... ok
test security::tests::test_reserved_commands_not_empty ... ok
test security::tests::test_sanitize_argument_control_chars ... ok
test security::tests::test_sanitize_argument_preserve_newline_tab ... ok
test security::tests::test_sanitize_argument_valid ... ok
test security::tests::test_security_error_debug ... ok
test security::tests::test_security_error_display ... ok
test security::tests::test_validate_command_name_empty ... ok
test security::tests::test_validate_command_name_invalid_chars ... ok
test security::tests::test_validate_command_name_reserved ... ok
test security::tests::test_validate_command_name_reserved_case_insensitive ... ok
test security::tests::test_validate_command_name_too_long ... ok
test security::tests::test_sanitize_argument_too_large ... ok
test security::tests::test_validate_command_name_valid ... ok
test skills::context::tests::test_skill_context_config_as ... ok
test skills::context::tests::test_skill_context_config_as_error ... ok
test skills::context::tests::test_skill_context_debug ... ok
test skills::context::tests::test_skill_context_new ... ok
test skills::context::tests::test_skill_context_with_none_agent_id ... ok
test skills::discovery::tests::test_discover_skill_dirs_empty ... ok
test skills::discovery::tests::test_load_skills_empty ... ok
test skills::discovery::tests::test_discover_skill_dirs_skips_invalid ... ok
test skills::discovery::tests::test_discover_skill_dirs_with_valid_skill ... ok
test skills::discovery::tests::test_discover_skill_dirs_with_multiple_skills ... ok
test skills::discovery::tests::test_validate_requirements_platform_mismatch ... ok
test skills::discovery::tests::test_discover_skill_dirs_multiple_base_dirs ... ok
test skills::manifest::tests::test_parse_manifest_default_optional_fields ... ok
test skills::discovery::tests::test_is_binary_not_available ... ok
test skills::discovery::tests::test_is_binary_available_with_path ... ok
test skills::manifest::tests::test_skill_manifest_clone ... ok
test skills::manifest::tests::test_skill_manifest_debug ... ok
test skills::manifest::tests::test_skill_manifest_default_values ... ok
test skills::discovery::tests::test_is_binary_available ... ok
test skills::manifest::tests::test_parse_manifest_with_all_fields ... ok
test skills::discovery::tests::test_validate_requirements_missing_both_env_and_binary ... ok
test skills::discovery::tests::test_validate_requirements_missing_binary ... ok
test skills::manifest::tests::test_skill_manifest_new ... ok
test skills::manifest::tests::test_skill_manifest_platform_valid_values ... ok
test skills::manifest::tests::test_skill_manifest_validation_invalid_platform ... ok
test skills::discovery::tests::test_validate_requirements_success ... ok
test skills::manifest::tests::test_skill_manifest_validation_missing_id ... ok
test skills::manifest::tests::test_skill_manifest_validation_missing_name ... ok
test skills::manifest::tests::test_skill_manifest_validation_missing_version ... ok
test skills::manifest::tests::test_skill_manifest_validation_platform_uppercase ... ok
test skills::manifest::tests::test_skill_manifest_validation_success ... ok
test skills::manifest::tests::test_skill_manifest_validation_whitespace_id ... ok
test skills::manifest::tests::test_skill_manifest_validation_whitespace_name ... ok
test skills::manifest::tests::test_skill_manifest_validation_whitespace_version ... ok
test skills::meta::tests::test_skill_category_clone ... ok
test skills::meta::tests::test_skill_meta_debug ... ok
test skills::meta::tests::test_skill_meta_default ... ok
test skills::meta::tests::test_skill_meta_new ... ok
test skills::r#trait::tests::test_skill_category_clone ... ok
test skills::r#trait::tests::test_skill_meta_debug ... ok
test skills::registry::tests::test_assign_to_agent ... ok
test skills::registry::tests::test_get_skill ... ok
test skills::registry::tests::test_list_skills ... ok
test skills::registry::tests::test_register_overwrites_existing ... ok
test skills::registry::tests::test_registry_default ... ok
test skills::registry::tests::test_register_skill ... ok
test skills::registry::tests::test_registry_new ... ok
test skills::registry::tests::test_skill_registry_with_all_status_types ... ok
test skills::registry::tests::test_skills_for_agent ... ok
test skills::registry::tests::test_skills_for_agent_empty ... ok
test skills::registry::tests::test_skills_for_agent_with_multiple_agents ... ok
test skills::registry::tests::test_skills_for_agent_with_unregistered ... ok
test skills::registry::tests::test_status ... ok
test skills::registry::tests::test_status_enum_serialization ... ok
test skills::discovery::tests::test_validate_requirements_with_both_env_and_binary ... ok
test skills::registry::tests::test_set_status ... ok
test skills::scaffold::tests::test_to_pascal_case_basic ... ok
test skills::scaffold::tests::test_to_pascal_case_empty ... ok
test skills::scaffold::tests::test_to_pascal_case_mixed_case ... ok
test skills::scaffold::tests::test_scaffold_skill_creates_directory ... ok
test skills::scaffold::tests::test_scaffold_skill_creates_files ... ok
test skills::scaffold::tests::test_scaffold_skill_creates_src_directory ... ok
test skills::tests::test_merge_skill_prompts_empty_skills ... ok
test skills::tests::test_merge_skill_prompts_preserves_order ... ok
test skills::tests::test_merge_skill_prompts_with_empty_fragments ... ok
test skills::tests::test_merge_skill_prompts_with_multiple_skills ... ok
test skills::scaffold::tests::test_scaffold_skill_manifest_content ... ok
test skills::tests::test_merge_skill_prompts_with_newlines ... ok
test skills::scaffold::tests::test_scaffold_skill_readme_content ... ok
test skills::tests::test_merge_skill_prompts_with_one_skill ... ok
test skills::scaffold::tests::test_scaffold_skill_lib_content ... ok
test skills::scaffold::tests::test_scaffold_skill_different_categories ... ok

test result: ok. 170 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.01s

     Running tests/integration.rs (target/debug/deps/integration-70e35ca2a35e504d)

running 22 tests
test test_argument_sanitization ... ok
test test_command_name_validation ... ok
test test_command_registration_security ... ok
test test_argument_size_limit ... ok
test test_config_validation_type_checking ... ok
test test_config_validation_required_fields ... ok
test test_duplicate_registration ... ok
test test_hook_dispatch ... ok
test test_config_reloadable ... ok
test test_hook_registry_total_count ... ok
test test_hook_dispatch_error_handling ... ok
test test_hook_dispatch_multiple ... ok
test test_plugin_config_extraction ... ok
test test_plugin_config_missing_defaults_to_empty ... ok
test test_plugin_config_with_defaults ... ok
test test_multiple_plugins_with_hooks ... ok
test test_plugin_registration ... ok
test test_reserved_commands_not_empty ... ok
test test_reserved_command_rejection ... ok
test test_plugin_registry_lifecycle ... ok
test test_invalid_manifest_missing_id ... ok
test test_manifest_parsing ... ok

test result: ok. 22 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/lib.rs (target/debug/deps/aisopod_provider-2496d4f81e2888f4)

running 107 tests
test auth::tests::test_auth_profile_is_available ... ok
test auth::tests::test_auth_profile_manager_new ... ok
test auth::tests::test_add_profiles_different_providers ... ok
test auth::tests::test_add_profile ... ok
test auth::tests::test_add_multiple_profiles_same_provider ... ok
test auth::tests::test_auth_profile_new ... ok
test auth::tests::test_available_count ... ok
test auth::tests::test_next_key_no_profiles ... ok
test auth::tests::test_next_key_all_failed ... ok
test auth::tests::test_next_key_skips_failed ... ok
test auth::tests::test_mark_good_resets_status ... ok
test auth::tests::test_next_key_round_robin ... ok
test auth::tests::test_next_key_skips_cooldown ... ok
test auth::tests::test_total_count ... ok
test auth::tests::test_profile_ids ... ok
test normalize::tests::test_aggregate_usage_empty ... ok
test normalize::tests::test_aggregate_usage_first_chunk_has_usage ... ok
test discovery::tests::test_provider_error_during_refresh_is_handled ... ok
test discovery::tests::test_refresh_forces_requery ... ok
test discovery::tests::test_list_all_returns_models_from_all_providers ... ok
test discovery::tests::test_find_by_capability ... ok
test discovery::tests::test_cache_is_respected_within_ttl ... ok
test discovery::tests::test_get_model_by_id ... ok
test normalize::tests::test_aggregate_usage_multiple_chunks_with_usage ... ok
test normalize::tests::test_enforce_alternating_turns_already_alternating ... ok
test normalize::tests::test_aggregate_usage_last_chunk_has_usage ... ok
test normalize::tests::test_enforce_alternating_turns_consecutive_same_role ... ok
test normalize::tests::test_enforce_alternating_turns_empty ... ok
test normalize::tests::test_enforce_alternating_turns_single_message ... ok
test normalize::tests::test_enforce_alternating_turns_three_consecutive ... ok
test normalize::tests::test_extract_system_prompt_empty ... ok
test normalize::tests::test_extract_system_prompt_basic ... ok
test normalize::tests::test_extract_system_prompt_no_system ... ok
test normalize::tests::test_extract_system_prompt_system_not_first ... ok
test normalize::tests::test_map_http_error_authentication_401 ... ok
test normalize::tests::test_extract_system_prompt_with_parts ... ok
test normalize::tests::test_map_http_error_authentication_403 ... ok
test normalize::tests::test_map_http_error_context_length_exceeded_413 ... ok
test normalize::tests::test_map_http_error_invalid_request_400 ... ok
test normalize::tests::test_map_http_error_model_not_found_404 ... ok
test normalize::tests::test_map_http_error_server_error_500 ... ok
test normalize::tests::test_map_http_error_rate_limited_429 ... ok
test normalize::tests::test_map_http_error_unknown ... ok
test normalize::tests::test_provider_error_display ... ok
test normalize::tests::test_provider_error_is_error ... ok
test providers::bedrock::tests::test_bedrock_content_block_serialization ... ok
test providers::bedrock::tests::test_bedrock_message_serialization ... ok
test providers::bedrock::tests::test_bedrock_request_serialization ... ok
test providers::bedrock::tests::test_bedrock_role_serialization ... ok
test providers::gemini::tests::test_gemini_content_serialization ... ok
test providers::gemini::tests::test_gemini_function_declaration_serialization ... ok
test providers::gemini::tests::test_gemini_model_info_serialization ... ok
test providers::gemini::tests::test_gemini_part_serialization ... ok
test providers::gemini::tests::test_gemini_request_serialization ... ok
test providers::gemini::tests::test_gemini_role_serialization ... ok
test providers::anthropic::tests::test_build_anthropic_request ... ok
test providers::ollama::tests::test_build_ollama_request ... ok
test providers::anthropic::tests::test_extract_system_prompt ... ok
test providers::anthropic::tests::test_convert_message_text ... ok
test providers::ollama::tests::test_parse_ollama_chunk ... ok
test providers::ollama::tests::test_parse_ollama_chunk_done ... ok
test providers::ollama::tests::test_convert_message_parts ... ok
test providers::ollama::tests::test_convert_message_text ... ok
test providers::openai::tests::test_build_openai_request ... ok
test providers::ollama::tests::test_convert_message_system ... ok
test providers::openai::tests::test_estimate_context_window ... ok
test providers::openai::tests::test_parse_sse_done ... ok
test providers::openai::tests::test_parse_sse_event ... ok
test providers::openai::tests::test_supports_tools ... ok
test providers::openai::tests::test_supports_vision ... ok
test registry::tests::test_default_registry ... ok
test registry::tests::test_get_nonexistent_provider ... ok
test registry::tests::test_get_provider ... ok
test registry::tests::test_list_providers ... ok
test registry::tests::test_new_registry ... ok
test registry::tests::test_register_alias ... ok
test registry::tests::test_register_provider ... ok
test registry::tests::test_resolve_alias ... ok
test registry::tests::test_resolve_alias_not_found ... ok
test registry::tests::test_resolve_model_alias_not_found ... ok
test registry::tests::test_resolve_model_direct ... ok
test registry::tests::test_resolve_model_provider_not_found ... ok
test registry::tests::test_resolve_model_via_alias ... ok
test registry::tests::test_unregister_provider ... ok
test trait_module::tests::test_chat_completion ... ok
test trait_module::tests::test_health_check ... ok
test trait_module::tests::test_list_models ... ok
test trait_module::tests::test_provider_id ... ok
test types::tests::test_chat_completion_chunk_serialization ... ok
test types::tests::test_chat_completion_request_serialization ... ok
test types::tests::test_content_part_serialization ... ok
test types::tests::test_finish_reason_serialization ... ok
test types::tests::test_message_content_serialization ... ok
test types::tests::test_message_delta_serialization ... ok
test types::tests::test_message_serialization ... ok
test types::tests::test_model_info_serialization ... ok
test types::tests::test_provider_health_serialization ... ok
test types::tests::test_role_serialization ... ok
test types::tests::test_token_usage_serialization ... ok
test types::tests::test_tool_call_serialization ... ok
test providers::openai::tests::test_convert_tool ... ok
test providers::openai::tests::test_convert_message_parts ... ok
test providers::openai::tests::test_convert_message_text ... ok
test auth::tests::test_round_robin_with_recovery ... ok
test providers::bedrock::tests::test_bedrock_provider_with_custom_model ... ok
test providers::bedrock::tests::test_bedrock_provider_with_custom_region ... ok
test providers::bedrock::tests::test_bedrock_provider_creation ... ok

test result: ok. 107 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 3.09s

     Running tests/anthropic_tests.rs (target/debug/deps/anthropic_tests-ef006d17319b96f7)

running 221 tests
test test_anthropic_content_block_index ... ok
test test_anthropic_content_block_with_image ... ok
test test_anthropic_complex_tool_use ... ok
test test_anthropic_content_block_delta ... ok
test test_anthropic_content_block_with_tool_use ... ok
test test_anthropic_image_source_roundtrip ... ok
test test_anthropic_error_response_roundtrip ... ok
test test_anthropic_message_content_array ... ok
test test_anthropic_message_delta_stop_reasons ... ok
test test_anthropic_message_delta_with_content_and_tool_calls ... ok
test test_anthropic_message_delta_with_tool_calls ... ok
test test_anthropic_message_empty_content_block ... ok
test test_anthropic_message_delta_with_stop_sequence ... ok
test test_anthropic_message_id_format ... ok
test test_anthropic_message_role_empty ... ok
test test_anthropic_message_response_content ... ok
test test_anthropic_message_response_roundtrip ... ok
test test_anthropic_message_role_valid ... ok
test test_anthropic_message_to_anthropic_format ... ok
test test_anthropic_message_with_empty_content ... ok
test test_anthropic_message_with_empty_content_array ... ok
test test_anthropic_message_with_assistant_role ... ok
test test_anthropic_message_with_multiple_content_blocks ... ok
test test_anthropic_message_with_image_content ... ok
test test_anthropic_message_with_multiple_content_types ... ok
test test_anthropic_message_with_multiple_tool_results ... ok
test test_anthropic_message_with_multiple_tools ... ok
test test_anthropic_message_with_tool_call_id ... ok
test test_anthropic_message_with_tool_call_and_content ... ok
test test_anthropic_message_with_tool_call_response ... ok
test test_anthropic_model_info_provider_field ... ok
test test_anthropic_multimodal_request ... ok
test test_anthropic_model_info_serialization ... ok
test test_anthropic_base_url ... ok
test test_anthropic_default_model ... ok
test test_anthropic_provider_list_models_returns_default ... ok
test test_anthropic_provider_end_to_end_structure ... ok
test test_anthropic_provider_with_profiles ... ok
test test_anthropic_request_with_metadata ... ok
test test_anthropic_request_with_system_prompt_and_tools ... ok
test test_anthropic_request_with_system_prompt_array ... ok
test test_anthropic_request_with_temperature ... ok
test test_anthropic_request_with_top_p ... ok
test test_anthropic_sse_content_block_delta_event ... ok
test test_anthropic_sse_content_block_start_event ... ok
test test_anthropic_sse_error_event ... ok
test test_anthropic_sse_message_delta_event ... ok
test test_anthropic_sse_message_start_event ... ok
test test_anthropic_sse_message_stop_event ... ok
test test_anthropic_stop_reason_end_turn ... ok
test test_anthropic_stop_reason_max_tokens ... ok
test test_anthropic_provider_health_check_type ... ok
test test_anthropic_stop_reason_stop_sequence ... ok
test test_anthropic_stop_sequences_array ... ok
test test_anthropic_stop_reason_tool_use ... ok
test test_anthropic_stream_event_type ... ok
test test_anthropic_streaming_delta_text ... ok
test test_anthropic_streaming_message_delta ... ok
test test_anthropic_streaming_request ... ok
test test_anthropic_streaming_request_with_tools ... ok
test test_anthropic_system_prompt_array ... ok
test test_anthropic_system_prompt_content_block ... ok
test test_anthropic_system_prompt_array_format ... ok
test test_anthropic_tool_call_arguments_json ... ok
test test_anthropic_tool_call_id_format ... ok
test test_anthropic_tool_call_response_roundtrip ... ok
test test_anthropic_tool_call_with_arguments ... ok
test test_anthropic_tool_call_with_empty_arguments ... ok
test test_anthropic_tool_definition_empty_description ... ok
test test_anthropic_tool_definition_empty_name ... ok
test test_anthropic_tool_definition_serialization ... ok
test test_anthropic_tool_definition_with_all_fields ... ok
test test_anthropic_tool_definition_with_allof_schema ... ok
test test_anthropic_tool_definition_with_array_property ... ok
test test_anthropic_tool_definition_with_complex_nested_schema ... ok
test test_anthropic_tool_definition_with_default_values ... ok
test test_anthropic_provider_creation ... ok
test test_anthropic_tool_definition_with_description ... ok
test test_anthropic_tool_definition_with_empty_properties ... ok
test test_anthropic_tool_definition_with_empty_schema ... ok
test test_anthropic_tool_definition_with_enum_properties ... ok
test test_anthropic_tool_definition_with_mixed_type_arrays ... ok
test test_anthropic_tool_definition_with_mixed_types ... ok
test test_anthropic_tool_definition_with_multiple_required_fields ... ok
test test_anthropic_tool_definition_with_nested_schema ... ok
test test_anthropic_tool_definition_with_no_required ... ok
test test_anthropic_tool_definition_with_pattern_properties ... ok
test test_anthropic_tool_definition_with_properties ... ok
test test_anthropic_tool_definition_with_required ... ok
test test_anthropic_tool_definition_with_required_array ... ok
test test_anthropic_tool_definition_with_schema_validation ... ok
test test_anthropic_tool_definition_with_schema_validation_all_required_fields_complex ... ok
test test_anthropic_tool_definition_with_schema_validation_all_required_fields_complex_nested ... ok
test test_anthropic_tool_definition_with_schema_validation_all_required_fields_deep_nested ... ok
test test_anthropic_tool_definition_with_schema_validation_all_required_fields_extremely_complex ... ok
test test_anthropic_provider_id ... ok
test test_anthropic_tool_definition_with_schema_validation_all_required_fields_insanely_complex ... ok
test test_anthropic_tool_definition_with_schema_validation_all_required_fields_max_complexity ... ok
test test_anthropic_tool_definition_with_schema_validation_all_required_fields_ultimate ... ok
test test_anthropic_tool_definition_with_schema_validation_all_required_fields_very_complex ... ok
test test_anthropic_tool_definition_with_schema_validation_all_required_fields ... ok
test test_anthropic_tool_definition_with_special_characters ... ok
test test_anthropic_tool_message_format ... ok
test test_anthropic_tool_nested_input_schema ... ok
test test_anthropic_tool_result_content_roundtrip ... ok
test test_anthropic_tool_result_content_with_array ... ok
test test_anthropic_tool_result_content_with_circular_reference_simulation ... ok
test test_anthropic_tool_result_content_with_deeply_nested_arrays ... ok
test test_anthropic_tool_result_content_with_empty_array ... ok
test test_anthropic_tool_result_content_with_complex_nested_structures ... ok
test test_anthropic_tool_result_content_with_empty_array_in_object ... ok
test test_anthropic_tool_result_content_with_empty_object ... ok
test test_anthropic_tool_result_content_with_empty_object_at_end ... ok
test test_anthropic_tool_result_content_with_empty_object_in_array ... ok
test test_anthropic_tool_result_content_with_empty_string_at_end ... ok
test test_anthropic_tool_result_content_with_empty_string_in_array ... ok
test test_anthropic_tool_result_content_with_empty_string_in_nested_object ... ok
test test_anthropic_tool_result_content_with_html_like_content ... ok
test test_anthropic_tool_result_content_with_image ... ok
test test_anthropic_tool_result_content_with_mixed_type_arrays ... ok
test test_anthropic_tool_result_content_with_mixed_types ... ok
test test_anthropic_tool_result_content_with_nested_empty_objects ... ok
test test_anthropic_tool_result_content_with_nested_object ... ok
test test_anthropic_tool_result_content_with_multiple_nested_arrays ... ok
test test_anthropic_tool_result_content_with_null_value ... ok
test test_anthropic_tool_result_content_with_schema_validation ... ok
test test_anthropic_tool_result_content_with_schema_validation_all_required_fields ... ok
test test_anthropic_tool_result_content_with_schema_validation_all_required_fields_complex ... ok
test test_anthropic_tool_result_content_with_schema_validation_all_required_fields_complex_nested ... ok
test test_anthropic_tool_result_content_with_schema_validation_all_required_fields_deep_nested ... ok
test test_anthropic_tool_result_content_with_schema_validation_all_required_fields_extremely_complex ... ok
test test_anthropic_tool_result_content_with_schema_validation_all_required_fields_insanely_complex ... ok
test test_anthropic_tool_result_content_with_schema_validation_all_required_fields_max_complexity ... ok
test test_anthropic_tool_result_content_with_schema_validation_all_required_fields_ultimate ... ok
test test_anthropic_tool_result_content_with_schema_validation_all_required_fields_very_complex ... ok
test test_anthropic_tool_result_empty_tool_use_id ... ok
test test_anthropic_tool_result_content_with_schema_validation_multiple_levels ... ok
test test_anthropic_tool_result_content_with_schema_validation_complex_nested ... ok
test test_anthropic_tool_result_content_with_special_json_characters ... ok
test test_anthropic_tool_result_error ... ok
test test_anthropic_tool_result_message ... ok
test test_anthropic_tool_result_response_roundtrip ... ok
test test_anthropic_tool_result_with_deeply_nested_content ... ok
test test_anthropic_tool_result_with_empty_content ... ok
test test_anthropic_tool_result_response ... ok
test test_anthropic_tool_result_with_empty_string ... ok
test test_anthropic_tool_result_with_is_error_true ... ok
test test_anthropic_tool_result_with_error ... ok
test test_anthropic_tool_result_with_multiple_text_blocks ... ok
test test_anthropic_tool_result_with_multiple_content_blocks ... ok
test test_anthropic_tool_result_with_multiple_errors ... ok
test test_anthropic_tool_result_with_nested_array_content ... ok
test test_anthropic_tool_result_with_null_content ... ok
test test_anthropic_tool_result_with_special_characters ... ok
test test_anthropic_tool_result_with_nested_content ... ok
test test_anthropic_tool_schema_with_required_fields ... ok
test test_anthropic_tool_use_id_format ... ok
test test_anthropic_tool_use_block ... ok
test test_anthropic_tool_use_input_json ... ok
test test_anthropic_tool_use_response_empty_content ... ok
test test_anthropic_tool_use_response ... ok
test test_anthropic_tool_use_response_empty_id ... ok
test test_anthropic_tool_use_response_empty_name ... ok
test test_anthropic_tool_use_response_input ... ok
test test_anthropic_tool_use_response_roundtrip ... ok
test test_anthropic_tool_use_response_with_complex_input ... ok
test test_anthropic_tool_use_response_empty_input_object ... ok
test test_anthropic_tool_use_response_with_empty_input ... ok
test test_anthropic_tool_use_with_boolean_input ... ok
test test_anthropic_tool_use_with_complex_input ... ok
test test_anthropic_tool_use_with_complex_nested_arrays ... ok
test test_anthropic_tool_use_with_empty_array_in_array ... ok
test test_anthropic_tool_use_with_empty_array_in_object ... ok
test test_anthropic_tool_use_with_empty_array_input ... ok
test test_anthropic_tool_use_with_empty_input ... ok
test test_anthropic_tool_use_with_empty_object_input ... ok
test test_anthropic_tool_use_with_empty_string_value ... ok
test test_anthropic_tool_use_with_mixed_type_objects ... ok
test test_anthropic_tool_use_with_multiple_nested_objects ... ok
test test_anthropic_tool_use_with_nested_arrays ... ok
test test_anthropic_tool_use_with_schema_validation ... ok
test test_anthropic_tool_use_with_schema_validation_all_required_fields_complex ... ok
test test_anthropic_tool_use_with_schema_validation_all_required_fields ... ok
test test_anthropic_tool_use_with_schema_validation_all_required_fields_complex_nested ... ok
test test_anthropic_tool_use_with_schema_validation_all_required_fields_extremely_complex ... ok
test test_anthropic_tool_use_with_schema_validation_all_required_fields_insanely_complex ... ok
test test_anthropic_tool_use_with_schema_validation_all_required_fields_max_complexity ... ok
test test_anthropic_tool_use_with_schema_validation_all_required_fields_ultimate ... ok
test test_anthropic_tool_use_with_schema_validation_deeply_nested ... ok
test test_anthropic_tool_use_with_string_input ... ok
test test_anthropic_tool_use_with_schema_validation_all_required_fields_very_complex ... ok
test test_anthropic_usage_stats_roundtrip ... ok
test test_build_anthropic_request_basic ... ok
test test_build_anthropic_request_with_stop_sequences ... ok
test test_build_anthropic_request_with_tools ... ok
test test_build_anthropic_request_with_system_prompt ... ok
test test_chat_completion_chunk_serialization ... ok
test test_chat_completion_request_serialization ... ok
test test_finish_reason_length ... ok
test test_complex_message_with_tool_calls ... ok
test test_finish_reason_stop ... ok
test test_finish_reason_tool_call ... ok
test test_message_content_part_serialization ... ok
test test_message_delta_serialization ... ok
test test_message_with_tool_call_id ... ok
test test_message_text_serialization ... ok
test test_model_info_serialization ... ok
test test_parse_anthropic_error_response ... ok
test test_parse_anthropic_stream_response ... ok
test test_role_assistant_serialization ... ok
test test_role_serialization ... ok
test test_provider_health_serialization ... ok
test test_role_system_serialization ... ok
test test_tool_call_roundtrip ... ok
test test_token_usage_serialization ... ok
test test_tool_definition_to_anthropic_tool ... ok
test test_full_anthropic_request_roundtrip ... ok
test test_anthropic_provider_with_auth_profile ... ok
test test_anthropic_provider_with_multiple_profiles ... ok
test test_anthropic_provider_with_organization ... ok
test test_anthropic_provider_health_check_unavailable_without_api_key ... ok

test result: ok. 221 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.93s

     Running tests/auth_tests.rs (target/debug/deps/auth_tests-895d770889d836dd)

running 24 tests
test test_all_profiles_failed_returns_none ... ok
test test_auth_failed_profile_not_available ... ok
test test_available_count ... ok
test test_cooldown_reset_on_success ... ok
test test_available_count_with_failed ... ok
test test_empty_provider_list ... ok
test test_is_cooldown_complete_false ... ok
test test_mark_good_resets_profile ... ok
test test_profile_ids ... ok
test test_profile_ids_empty_provider ... ok
test test_profile_with_no_api_key ... ok
test test_rate_limited_profile_not_available ... ok
test test_profiles_are_provider_isolated ... ok
test test_recover_profile_false_if_not_needed ... ok
test test_round_robin_three_profiles ... ok
test test_round_robin_two_profiles ... ok
test test_round_robin_single_profile ... ok
test test_skips_failed_profile_during_cooldown ... ok
test test_high_frequency_rotation ... ok
test test_total_count ... ok
test test_zero_duration_cooldown ... ok
test test_is_cooldown_complete_true ... ok
test test_recover_profile_returns_true_on_recovery ... ok
test test_profile_recovers_after_cooldown ... ok

test result: ok. 24 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.03s

     Running tests/bedrock_tests.rs (target/debug/deps/bedrock_tests-8077715590a004c6)

running 15 tests
test test_bedrock_request_with_max_tokens ... ok
test test_bedrock_request_with_multiple_messages ... ok
test test_bedrock_request_with_streaming ... ok
test test_bedrock_request_with_stop_sequences ... ok
test test_bedrock_request_with_text_message ... ok
test test_message_content_parts ... ok
test test_message_content_text ... ok
test test_role_assistant ... ok
test test_bedrock_request_with_temperature ... ok
test test_role_system ... ok
test test_role_user ... ok
test test_bedrock_provider_with_custom_region ... ok
test test_bedrock_provider_error_handling ... ok
test test_bedrock_provider_with_custom_endpoint ... ok
test test_bedrock_provider_initialization ... ok

test result: ok. 15 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 3.13s

     Running tests/discovery_tests.rs (target/debug/deps/discovery_tests-a44f652e57813797)

running 16 tests
test test_cache_persists_across_list_all_calls ... ok
test test_find_by_capability_min_context ... ok
test test_cache_is_used ... ok
test test_find_by_capability_combined ... ok
test test_cache_refresh_on_empty ... ok
test test_find_by_capability_tools ... ok
test test_find_by_capability_vision ... ok
test test_get_model_not_found ... ok
test test_list_all_empty_registry ... ok
test test_get_model_found ... ok
test test_list_all_fails_if_all_providers_fail ... ok
test test_list_all_with_multiple_providers ... ok
test test_model_catalog_new ... ok
test test_list_all_with_providers ... ok
test test_refresh_with_failing_provider ... ok
test test_cache_expires ... ok

test result: ok. 16 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.10s

     Running tests/error_handling_tests.rs (target/debug/deps/error_handling_tests-eda1cf16c3037651)

running 30 tests
test test_auth_error_401_mapping ... ok
test test_auth_error_403_mapping ... ok
test test_auth_error_with_empty_body ... ok
test test_auth_error_provider_varies ... ok
test test_auth_profile_manager_skips_failed_profiles ... ok
test test_context_length_with_specific_value ... ok
test test_context_length_exceeded_413_mapping ... ok
test test_error_inequality_for_different_providers ... ok
test test_error_equality_for_same_type ... ok
test test_invalid_request_400_mapping ... ok
test test_invalid_request_with_context_length ... ok
test test_invalid_request_empty_message ... ok
test test_model_not_found_404_mapping ... ok
test test_error_inequality_for_different_messages ... ok
test test_model_not_found_with_json_model_field ... ok
test test_model_not_found_with_specific_model ... ok
test test_provider_error_chain ... ok
test test_provider_error_display ... ok
test test_rate_limit_different_providers ... ok
test test_rate_limit_error_429_mapping ... ok
test test_rate_limit_with_retry_after ... ok
test test_server_error_500_mapping ... ok
test test_server_error_503_mapping ... ok
test test_server_error_504_mapping ... ok
test test_network_timeout_simulation ... ok
test test_network_error_propagation ... ok
test test_unknown_error_empty_body ... ok
test test_unknown_error_for_unmapped_status ... ok
test test_stream_closed_error ... ok
test test_auth_profile_manager_recovers_after_cooldown ... ok

test result: ok. 30 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.02s

     Running tests/gemini_tests.rs (target/debug/deps/gemini_tests-3395bc46c5b16b86)

running 15 tests
test test_gemini_request_with_max_tokens ... ok
test test_gemini_request_with_multiple_messages ... ok
test test_gemini_request_with_stop_sequences ... ok
test test_gemini_request_with_streaming ... ok
test test_gemini_request_with_text_message ... ok
test test_gemini_request_with_temperature ... ok
test test_message_content_parts ... ok
test test_message_content_text ... ok
test test_role_assistant ... ok
test test_role_system ... ok
test test_role_user ... ok
test test_gemini_provider_with_api_key ... ok
test test_gemini_provider_error_handling ... ok
test test_gemini_provider_initialization ... ok
test test_gemini_provider_with_custom_model ... ok

test result: ok. 15 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.23s

     Running tests/helpers/mod.rs (target/debug/deps/helpers-bed8177729fb0c9a)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/integration/mod.rs (target/debug/deps/integration_tests-57728a614f61da62)

running 25 tests
test anthropic::test_anthropic_health_check ... ignored, requires ANTHROPIC_API_KEY environment variable
test anthropic::test_anthropic_invalid_api_key ... ignored, requires ANTHROPIC_API_KEY environment variable
test anthropic::test_anthropic_list_models ... ignored, requires ANTHROPIC_API_KEY environment variable
test anthropic::test_anthropic_streaming_chat_completion ... ignored, requires ANTHROPIC_API_KEY environment variable
test anthropic::test_anthropic_with_short_message ... ignored, requires ANTHROPIC_API_KEY environment variable
test bedrock::test_bedrock_health_check ... ignored, requires AWS credentials for Bedrock access
test bedrock::test_bedrock_list_models ... ignored, requires AWS credentials for Bedrock access
test bedrock::test_bedrock_streaming_chat_completion ... ignored, requires AWS credentials for Bedrock access
test bedrock::test_bedrock_with_custom_region ... ignored, requires AWS credentials for Bedrock access
test bedrock::test_bedrock_with_short_message ... ignored, requires AWS credentials for Bedrock access
test gemini::test_gemini_health_check ... ignored, requires GEMINI_API_KEY environment variable
test gemini::test_gemini_invalid_api_key ... ignored, requires GEMINI_API_KEY environment variable
test gemini::test_gemini_list_models ... ignored, requires GEMINI_API_KEY environment variable
test gemini::test_gemini_streaming_chat_completion ... ignored, requires GEMINI_API_KEY environment variable
test gemini::test_gemini_with_short_message ... ignored, requires GEMINI_API_KEY environment variable
test ollama::test_ollama_health_check ... ignored, requires OLLAMA_BASE_URL environment variable (Ollama instance)
test ollama::test_ollama_list_models ... ignored, requires OLLAMA_BASE_URL environment variable (Ollama instance)
test ollama::test_ollama_streaming_chat_completion ... ignored, requires OLLAMA_BASE_URL environment variable (Ollama instance)
test ollama::test_ollama_unavailable ... ignored, requires OLLAMA_BASE_URL environment variable (Ollama instance)
test ollama::test_ollama_with_short_message ... ignored, requires OLLAMA_BASE_URL environment variable (Ollama instance)
test openai::test_openai_health_check ... ignored, requires OPENAI_API_KEY environment variable
test openai::test_openai_invalid_api_key ... ignored, requires OPENAI_API_KEY environment variable
test openai::test_openai_list_models ... ignored, requires OPENAI_API_KEY environment variable
test openai::test_openai_streaming_chat_completion ... ignored, requires OPENAI_API_KEY environment variable
test openai::test_openai_with_custom_base_url ... ignored, requires OPENAI_API_KEY environment variable

test result: ok. 0 passed; 0 failed; 25 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/normalize_tests.rs (target/debug/deps/normalize_tests-34219ef84fc0a63c)

running 27 tests
test test_aggregate_usage_single ... ok
test test_aggregate_usage_empty ... ok
test test_aggregate_usage_multiple ... ok
test test_aggregate_usage_multiple_chunks ... ok
test test_enforce_alternating_turns_empty ... ok
test test_enforce_alternating_turns_merges_consecutive_assistant ... ok
test test_aggregate_usage_with_none ... ok
test test_enforce_alternating_turns_multiple_merges ... ok
test test_enforce_alternating_turns_merges_consecutive_user ... ok
test test_enforce_alternating_turns_no_change ... ok
test test_enforce_alternating_turns_single_message ... ok
test test_enforce_alternating_turns_with_parts ... ok
test test_extract_system_prompt_empty_messages ... ok
test test_extract_system_prompt_first ... ok
test test_extract_system_prompt_middle ... ok
test test_extract_system_prompt_multiple_returns_first ... ok
test test_extract_system_prompt_none ... ok
test test_extract_system_prompt_only_system ... ok
test test_extract_system_prompt_with_parts ... ok
test test_map_http_error_400 ... ok
test test_map_http_error_401 ... ok
test test_map_http_error_403 ... ok
test test_map_http_error_404 ... ok
test test_map_http_error_413 ... ok
test test_map_http_error_429 ... ok
test test_map_http_error_500 ... ok
test test_map_http_error_unknown ... ok

test result: ok. 27 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/ollama_tests.rs (target/debug/deps/ollama_tests-5af6936aafc24f61)

running 1 test
test tests::test_ollama_stub ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/openai_tests.rs (target/debug/deps/openai_tests-f3abbf6ab9675dba)

running 1 test
test tests::test_openai_stub ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/registry_tests.rs (target/debug/deps/registry_tests-ca322619939b1c58)

running 26 tests
test test_default_registry ... ok
test test_list_providers_can_call_methods ... ok
test test_list_providers_returns_all ... ok
test test_get_provider_returns_arc ... ok
test test_get_nonexistent_provider ... ok
test test_new_registry_is_empty ... ok
test test_list_providers_returns_arcs ... ok
test test_full_workflow ... ok
test test_register_different_providers ... ok
test test_register_multiple_aliases ... ok
test test_multiple_providers_same_alias_not_supported ... ok
test test_register_alias ... ok
test test_register_provider ... ok
test test_register_same_alias_twice_replaces ... ok
test test_register_same_provider_twice_replaces ... ok
test test_resolve_alias_not_found ... ok
test test_resolve_alias_returns_correct_data ... ok
test test_resolve_model_alias_not_found ... ok
test test_resolve_model_alias_provider_not_found ... ok
test test_resolve_model_direct_provider ... ok
test test_resolve_model_prefers_alias ... ok
test test_resolve_model_provider_not_found ... ok
test test_resolve_model_via_alias ... ok
test test_unregister_does_not_affect_others ... ok
test test_unregister_nonexistent_provider ... ok
test test_unregister_provider ... ok

test result: ok. 26 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/streaming_behavior_tests.rs (target/debug/deps/streaming_behavior_tests-ebd52ad2055ed944)

running 1 test
test tests::test_streaming_behavior_stub ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/streaming_tests.rs (target/debug/deps/streaming_tests-ec7e282074cdc69e)

running 13 tests
test test_empty_stream_handled_gracefully ... ok
test test_chunk_ids_are_unique ... ok
test test_stream_chunks_arrive_in_order ... ok
test test_stream_finish_reason_on_last_chunk ... ok
test test_role_delta_on_first_chunk ... ok
test test_role_delta_not_repeated ... ok
test test_stream_first_chunk_failure ... ok
test test_stream_terminates_correctly ... ok
test test_stream_with_partial_failures ... ok
test test_stream_with_single_chunk ... ok
test test_stream_with_tool_call_finish_reason ... ok
test test_usage_accumulates_across_chunks ... ok
test test_stream_with_delays ... ok

test result: ok. 13 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.03s

     Running tests/unit_tests.rs (target/debug/deps/unit_tests-a568f320f89450ea)

running 31 tests
test test_anthropic_error_response ... ok
test test_anthropic_request_serialization ... ok
test test_anthropic_sse_event_deserialization ... ok
test test_anthropic_tool_call_roundtrip ... ok
test test_auth_profile_manager_mark_failed ... ok
test test_auth_profile_manager_add_and_get ... ok
test test_auth_profile_manager_mark_good ... ok
test test_auth_profile_manager_round_robin ... ok
test test_bedrock_request_serialization ... ok
test test_gemini_request_serialization ... ok
test test_bedrock_provider_list_models ... ok
test test_bedrock_provider_id ... ok
test test_gemini_response_deserialization ... ok
test test_ollama_request_serialization ... ok
test test_openai_error_response ... ok
test test_ollama_provider_id ... ok
test test_anthropic_provider_id ... ok
test test_anthropic_provider_list_models ... ok
test test_openai_request_serialization ... ok
test test_openai_response_deserialization ... ok
test test_ollama_provider_list_models ... ok
test test_openai_tool_call_roundtrip ... ok
test test_gemini_provider_id ... ok
test test_tool_call_serialization ... ok
test test_openai_provider_id ... ok
test test_gemini_provider_list_models ... ok
test test_openai_provider_with_base_url ... ok
test test_provider_registration ... ok
test test_provider_with_multiple_keys ... ok
test test_openai_provider_list_models ... ok
test test_anthropic_provider_health_check ... ok

test result: ok. 31 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.93s

     Running unittests src/lib.rs (target/debug/deps/aisopod_provider_anthropic-d0fe5b0b4d7af17a)

running 2 tests
test tests::test_anthropic_plugin_default ... ok
test tests::test_anthropic_plugin_creation ... ok

test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.23s

     Running unittests src/lib.rs (target/debug/deps/aisopod_provider_openai-7cae1b3ba54c93d8)

running 2 tests
test tests::test_openai_plugin_default ... ok
test tests::test_openai_plugin_creation ... ok

test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.12s

     Running unittests src/lib.rs (target/debug/deps/aisopod_session-f07ea98758a1667d)

running 94 tests
test routing::tests::test_channel_context_equality ... ok
test routing::tests::test_channel_context_hash ... ok
test routing::tests::test_normalize_basic ... ok
test routing::tests::test_normalize_edge_cases ... ok
test routing::tests::test_peer_kind_equality ... ok
test routing::tests::test_peer_kind_hash ... ok
test routing::tests::test_resolve_session_key_case_sensitivity ... ok
test routing::tests::test_resolve_session_key_dm ... ok
test routing::tests::test_resolve_session_key_group ... ok
test routing::tests::test_resolve_session_key_roundtrip ... ok
test routing::tests::test_resolve_session_key_with_whitespace ... ok
test routing::tests::test_same_user_same_key ... ok
test routing::tests::test_session_key_canonical_string ... ok
test db::tests::test_create_tables_migration ... ok
test db::tests::test_create_indexes_migration ... ok
test db::tests::test_run_migrations_is_idempotent ... ok
test db::tests::test_schema_version_table_created ... ok
test db::tests::test_foreign_key_constraint ... ok
test db::tests::test_unique_constraint_on_sessions ... ok
test store::store_tests::test_append_messages_empty_list ... ok
test store::store_tests::test_append_messages_accumulates_count ... ok
test store::store_tests::test_append_messages_metadata ... ok
test store::store_tests::test_append_messages_multiple ... ok
test store::store_tests::test_compact_record_initial_values ... ok
test store::store_tests::test_delete_nonexistent_session ... ok
test store::store_tests::test_append_messages_with_tool_role ... ok
test store::store_tests::test_append_messages_with_system_role ... ok
test store::store_tests::test_get_does_not_verify_scope ... ok
test store::store_tests::test_get_history_nonexistent_session ... ok
test store::store_tests::test_get_history_limit_offset ... ok
test store::store_tests::test_get_history_timestamp_filters ... ok
test store::store_tests::test_list_filter_by_account_id ... ok
test store::store_tests::test_list_filter_by_peer_id ... ok
test store::store_tests::test_list_filter_by_peer_kind ... ok
test store::store_tests::test_message_count_after_append ... ok
test store::store_tests::test_metadata_replacement ... ok
test store::store_tests::test_multiple_agents_isolation ... ok
test store::store_tests::test_patch_empty_metadata ... ok
test store::store_tests::test_patch_multiple_fields ... ok
test store::store_tests::test_patch_nonexistent_session ... ok
test store::store_tests::test_multiple_sessions_same_agent ... ok
test store::store_tests::test_scope_validation_agent_mismatch_on_append_messages ... ok
test store::store_tests::test_scope_validation_agent_mismatch_on_compact ... ok
test store::store_tests::test_scope_validation_agent_mismatch_on_create ... ok
test store::store_tests::test_scope_validation_agent_mismatch_on_get_history ... ok
test store::store_tests::test_scope_validation_agent_mismatch_on_delete ... ok
test store::store_tests::test_scope_validation_agent_mismatch_on_patch ... ok
test store::store_tests::test_scope_validation_agent_mismatch_on_list ... ok
test store::store_tests::test_session_summary_conversion ... ok
test store::store_tests::test_scope_validation_error_message ... ok
test store::store_tests::test_scope_validation_is_strict ... ok
test store::store_tests::test_scope_validation_same_agent_works ... ok
test store::store_tests::test_session_unique_key_enforcement ... ok
test store::store_tests::test_session_filter_multiple_criteria ... ok
test store::store_tests::test_session_status_transitions ... ok
test store::store_tests::test_timestamp_filter_edge_cases ... ok
test store::tests::test_append_messages ... ok
test store::tests::test_append_messages_nonexistent_session ... ok
test store::tests::test_append_messages_tool_calls ... ok
test store::tests::test_compact_nonexistent_session ... ok
test store::tests::test_compact_none ... ok
test store::tests::test_compact_sliding_window ... ok
test store::tests::test_compact_sliding_window_noop_when_under_limit ... ok
test store::tests::test_delete_nonexistent_session ... ok
test store::tests::test_delete_cascades_to_messages ... ok
test store::tests::test_compact_summarize ... ok
test store::tests::test_delete_session ... ok
test store::tests::test_get_compaction_record_initial ... ok
test store::tests::test_get_history_empty ... ok
test store::tests::test_get_history_with_messages ... ok
test store::tests::test_get_history_with_timestamp_filters ... ok
test store::tests::test_get_history_with_pagination ... ok
test store::tests::test_get_nonexistent_session ... ok
test store::tests::test_get_or_create_new_session ... ok
test store::tests::test_list_all_sessions ... ok
test store::tests::test_list_filter_by_status ... ok
test store::tests::test_list_filter_by_agent ... ok
test store::tests::test_list_filter_by_channel ... ok
test types::tests::test_new_session ... ok
test types::tests::test_session_filter_matching ... ok
test types::tests::test_session_key_equality ... ok
test types::tests::test_session_key_hash ... ok
test types::tests::test_session_metadata ... ok
test types::tests::test_session_patch ... ok
test types::tests::test_session_summary_from_session ... ok
test types::tests::test_session_updates ... ok
test types::tests::test_stored_message ... ok
test store::tests::test_new_store ... ok
test store::tests::test_patch_no_changes ... ok
test store::tests::test_patch_session ... ok
test store::tests::test_get_or_create_existing_session ... ok
test store::tests::test_list_with_date_filters ... ok
test store::store_tests::test_history_pagination_default_limit ... ok
test store::store_tests::test_history_pagination_no_limit ... ok

test result: ok. 94 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.13s

     Running unittests src/lib.rs (target/debug/deps/aisopod_shared-5fd72ae7fceb500e)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/lib.rs (target/debug/deps/aisopod_tools-3d91fe46663c7941)

running 166 tests
test approval::tests::test_approval_decision_alias ... ok
test approval::tests::test_approval_request_with_timeout ... ok
test approval::tests::test_approval_request_creation ... ok
test approval::tests::test_approval_response_variants ... ok
test approval::tests::test_auto_approve_rules_default ... ok
test approval::tests::test_auto_approve_rules_new ... ok
test approval::tests::test_auto_approve_rules_should_auto_approve ... ok
test approval::tests::test_approval_state_tracker ... ok
test approval::tests::test_auto_approve_rules_with_higher_threshold ... ok
test approval::tests::test_is_auto_approved_dangerous_commands ... ok
test approval::tests::test_risk_level_classify_dangerous_critical ... ok
test approval::tests::test_is_auto_approved_safe_commands ... ok
test approval::tests::test_risk_level_classify_git_commands ... ok
test approval::tests::test_risk_level_classify_dangerous_high ... ok
test approval::tests::test_risk_level_default_timeout ... ok
test approval::tests::test_risk_level_classify_medium ... ok
test approval::tests::test_risk_level_classify_safe_commands ... ok
test approval::tests::test_risk_level_description ... ok
test approval::tests::test_risk_level_score ... ok
test approval::tests::test_risk_level_ordering ... ok
test builtins::bash::tests::test_bash_tool_description ... ok
test builtins::bash::tests::test_bash_tool_name ... ok
test builtins::bash::tests::test_bash_tool_schema ... ok
test builtins::bash::tests::test_bash_tool_missing_command ... ok
test builtins::bash::tests::test_bash_tool_empty_command ... ok
test builtins::canvas::tests::test_canvas_tool_create_duplicate ... ok
test builtins::canvas::tests::test_canvas_tool_description ... ok
test builtins::canvas::tests::test_canvas_tool_create ... ok
test builtins::canvas::tests::test_canvas_tool_get ... ok
test builtins::canvas::tests::test_canvas_tool_get_nonexistent ... ok
test builtins::bash::tests::test_bash_tool_with_args ... ok
test builtins::bash::tests::test_bash_tool_success ... ok
test builtins::canvas::tests::test_canvas_tool_invalid_operation ... ok
test builtins::bash::tests::test_bash_tool_nonzero_exit ... ok
test builtins::bash::tests::test_bash_tool_stderr ... ok
test builtins::bash::tests::test_bash_tool_with_env ... ok
test builtins::canvas::tests::test_canvas_tool_missing_content_for_create ... ok
test builtins::canvas::tests::test_canvas_tool_missing_canvas_id ... ok
test builtins::canvas::tests::test_canvas_tool_missing_content_for_update ... ok
test builtins::canvas::tests::test_canvas_tool_schema ... ok
test builtins::canvas::tests::test_canvas_tool_name ... ok
test builtins::canvas::tests::test_canvas_tool_missing_operation ... ok
test builtins::canvas::tests::test_canvas_tool_update ... ok
test builtins::canvas::tests::test_canvas_tool_update_nonexistent ... ok
test builtins::canvas::tests::test_in_memory_renderer_create_and_get ... ok
test builtins::canvas::tests::test_in_memory_renderer_get_nonexistent ... ok
test builtins::canvas::tests::test_in_memory_renderer_is_empty ... ok
test builtins::canvas::tests::test_in_memory_renderer_len ... ok
test builtins::canvas::tests::test_concurrent_access ... ok
test builtins::canvas::tests::test_in_memory_renderer_update ... ok
test builtins::cron::tests::test_cron_tool_description ... ok
test builtins::canvas::tests::test_in_memory_renderer_with_canvases ... ok
test builtins::cron::tests::test_cron_tool_name ... ok
test builtins::cron::tests::test_invalid_operation ... ok
test builtins::cron::tests::test_cron_tool_schema ... ok
test builtins::cron::tests::test_missing_operation ... ok
test builtins::cron::tests::test_remove_missing_job_id ... ok
test builtins::cron::tests::test_remove_nonexistent_job ... ok
test builtins::cron::tests::test_list_jobs ... ok
test builtins::cron::tests::test_remove_job ... ok
test builtins::cron::tests::test_run_missing_job_id ... ok
test builtins::cron::tests::test_schedule_missing_command ... ok
test builtins::cron::tests::test_schedule_job_invalid_cron ... ok
test builtins::cron::tests::test_run_job ... ok
test builtins::cron::tests::test_schedule_job ... ok
test builtins::cron::tests::test_schedule_missing_cron_expression ... ok
test builtins::cron::tests::test_validate_cron_expression_invalid ... ok
test builtins::file::tests::test_file_tool_description ... ok
test builtins::cron::tests::test_validate_cron_expression_valid ... ok
test builtins::file::tests::test_file_tool_invalid_operation ... ok
test builtins::file::tests::test_file_tool_missing_path ... ok
test builtins::file::tests::test_file_tool_missing_operation ... ok
test builtins::file::tests::test_file_tool_name ... ok
test builtins::file::tests::test_file_tool_escape_workspace ... ok
test builtins::file::tests::test_file_tool_no_workspace ... ok
test builtins::file::tests::test_file_tool_metadata ... ok
test builtins::file::tests::test_file_tool_schema ... ok
test builtins::file::tests::test_file_tool_search_missing_pattern ... ok
test builtins::file::tests::test_file_tool_list ... ok
test builtins::file::tests::test_file_tool_read ... ok
test builtins::message::tests::test_message_tool_description ... ok
test builtins::file::tests::test_file_tool_write_missing_content ... ok
test builtins::message::tests::test_message_tool_execute_success ... ok
test builtins::message::tests::test_message_tool_missing_channel ... ok
test builtins::message::tests::test_message_tool_name ... ok
test builtins::message::tests::test_message_tool_schema ... ok
test builtins::message::tests::test_message_tool_missing_content ... ok
test builtins::message::tests::test_message_tool_with_all_params ... ok
test builtins::file::tests::test_file_tool_write_creates_parent_dirs ... ok
test builtins::message::tests::test_noop_sender ... ok
test builtins::session::tests::test_noop_session_manager ... ok
test builtins::session::tests::test_session_tool_description ... ok
test builtins::session::tests::test_session_info_new ... ok
test builtins::session::tests::test_session_tool_execute_invalid_operation ... ok
test builtins::session::tests::test_session_tool_execute_list ... ok
test builtins::session::tests::test_session_tool_execute_history ... ok
test builtins::file::tests::test_file_tool_write ... ok
test builtins::session::tests::test_session_tool_execute_list_with_limit ... ok
test builtins::session::tests::test_session_tool_name ... ok
test builtins::session::tests::test_session_tool_execute_send ... ok
test builtins::session::tests::test_session_tool_execute_patch ... ok
test builtins::session::tests::test_session_tool_history_missing_session_id ... ok
test builtins::session::tests::test_session_tool_missing_operation ... ok
test builtins::session::tests::test_session_tool_schema ... ok
test builtins::session::tests::test_session_tool_patch_missing_metadata ... ok
test builtins::session::tests::test_session_tool_send_missing_message ... ok
test builtins::session::tests::test_session_tool_send_missing_session_id ... ok
test builtins::subagent::tests::test_noop_spawner ... ok
test builtins::subagent::tests::test_subagent_tool_depth_limit ... ok
test builtins::subagent::tests::test_subagent_tool_description ... ok
test builtins::subagent::tests::test_subagent_tool_missing_agent_name ... ok
test builtins::subagent::tests::test_subagent_tool_execute_success ... ok
test builtins::subagent::tests::test_subagent_tool_missing_model ... ok
test builtins::subagent::tests::test_subagent_tool_missing_prompt ... ok
test builtins::subagent::tests::test_subagent_tool_model_allowlist ... ok
test builtins::subagent::tests::test_subagent_tool_schema ... ok
test policy::tests::test_agent_deny_message ... ok
test policy::tests::test_agent_deny_overrides_global_allow ... ok
test policy::tests::test_agent_policy_overrides_global_deny ... ok
test policy::tests::test_deny_precedence_message ... ok
test policy::tests::test_deny_takes_precedence_over_allow ... ok
test policy::tests::test_engine_default_is_unrestricted ... ok
test policy::tests::test_global_allow_list_allows_only_whitelisted_tools ... ok
test policy::tests::test_global_deny_list_blocks_tools ... ok
test policy::tests::test_remove_agent_policy_falls_back_to_global ... ok
test policy::tests::test_tool_policy_allow_list ... ok
test policy::tests::test_tool_policy_default_is_unrestricted ... ok
test policy::tests::test_tool_policy_deny_list ... ok
test registry::tests::test_duplicate_registration_overwrites_with_warning ... ok
test registry::tests::test_get_nonexistent_tool ... ok
test registry::tests::test_get_tool ... ok
test registry::tests::test_list_tools ... ok
test registry::tests::test_new_registry_is_empty ... ok
test registry::tests::test_register_tool ... ok
test registry::tests::test_remove_nonexistent_tool ... ok
test registry::tests::test_remove_tool ... ok
test sandbox::executor::tests::test_container_id_is_unique ... ignored
test sandbox::executor::tests::test_run_one_shot_echo ... ignored
test builtins::subagent::tests::test_subagent_tool_name ... ok
test registry::tests::test_schemas ... ok
test sandbox::executor::tests::test_sandbox_config_custom_user ... ok
test sandbox::executor::tests::test_timeout_kills_container ... ignored
test sandbox::executor::tests::test_workspace_read_write ... ignored
test sandbox::executor::tests::test_sandbox_config_default_user ... ok
test sandbox::workspace::tests::test_absolute_path_outside_workspace ... ok
test sandbox::workspace::tests::test_none_access_no_mount ... ok
test sandbox::workspace::tests::test_path_escape_rejected ... ok
test sandbox::workspace::tests::test_path_with_symlink_escape ... ok
test sandbox::workspace::tests::test_readonly_mount_has_ro_flag ... ok
test sandbox::workspace::tests::test_readwrite_mount_has_rw_flag ... ok
test sandbox::workspace::tests::test_relative_path_within_workspace ... ok
test sandbox::workspace::tests::test_valid_path_within_workspace ... ok
test sandbox::workspace::tests::test_workspace_guard_new ... ok
test sandbox::workspace::tests::test_workspace_guard_root_not_found ... ok
test sandbox::workspace::tests::test_workspace_root_with_trailing_slash ... ok
test schema::tests::test_anthropic_batch_conversion ... ok
test schema::tests::test_empty_batch_conversion ... ok
test schema::tests::test_gemini_batch_conversion ... ok
test schema::tests::test_openai_batch_conversion ... ok
test schema::tests::test_to_anthropic_format_single_tool ... ok
test schema::tests::test_to_gemini_format_single_tool ... ok
test schema::tests::test_to_openai_format_single_tool ... ok
test schema::tests::test_tool_definition_new ... ok
test builtins::file::tests::test_file_tool_list_with_glob_filter ... ok
test builtins::file::tests::test_file_tool_search ... ok
test builtins::bash::tests::test_bash_tool_with_timeout ... ok

test result: ok. 162 passed; 0 failed; 4 ignored; 0 measured; 0 filtered out; finished in 1.00s

     Running tests/approval.rs (target/debug/deps/approval-16346e93eebe9afe)

running 53 tests
test test_approval_handler_noop ... ok
test test_approval_empty_operation ... ok
test test_approval_agent_id_variations ... ok
test test_approval_handler_error_types ... ok
test test_approval_request_creation ... ok
test test_approval_handler_with_account_and_peer ... ok
test test_approval_request_unique_ids ... ok
test test_approval_request_with_metadata ... ok
test test_approval_request_with_timeout ... ok
test test_approval_response_denied ... ok
test test_approval_risk_level_critical ... ok
test test_approval_risk_level_descriptions ... ok
test test_approval_response_approved ... ok
test test_approval_response_timed_out ... ok
test test_approval_risk_level_high ... ok
test test_approval_risk_level_low ... ok
test test_approval_risk_level_medium ... ok
test test_approval_special_characters_in_operation ... ok
test test_approval_state_tracker_get_state ... ok
test test_approval_state_tracker_multiple_requests ... ok
test test_approval_state_tracker_empty ... ok
test test_approval_state_tracker_concurrent_operations ... ok
test test_approval_state_tracker_record_approved ... ok
test test_approval_state_tracker_record_denied ... ok
test test_approval_state_tracker_record_timed_out ... ok
test test_approval_state_tracker_summary ... ok
test test_approval_timeout_custom_duration ... ok
test test_approval_state_tracker_record_pending ... ok
test test_approval_with_context_metadata ... ok
test test_approval_with_complex_metadata ... ok
test test_approval_workflow_full_flow ... ok
test test_approval_with_metadata ... ok
test test_auto_approve_safe_command ... ok
test test_is_auto_approved_cat ... ok
test test_is_auto_approved_complex_command ... ok
test test_is_auto_approved_date ... ok
test test_is_auto_approved_echo ... ok
test test_is_auto_approved_find ... ok
test test_is_auto_approved_grep ... ok
test test_is_auto_approved_head ... ok
test test_is_auto_approved_hostname ... ok
test test_is_auto_approved_ls ... ok
test test_is_auto_approved_id ... ok
test test_is_auto_approved_test ... ok
test test_is_auto_approved_not_dangerous ... ok
test test_is_auto_approved_tail ... ok
test test_is_auto_approved_true_false ... ok
test test_is_auto_approved_pwd ... ok
test test_is_auto_approved_uname ... ok
test test_is_auto_approved_whoami ... ok
test test_manual_approval_flow ... ok
test test_manual_denial_flow ... ok
test test_approval_timeout_flow ... ok

test result: ok. 53 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.21s

     Running tests/bash.rs (target/debug/deps/bash-3a9e1fd80fc59a80)

running 17 tests
test test_bash_tool_empty_command ... ok
test test_bash_tool_missing_command ... ok
test test_bash_tool_description ... ok
test test_bash_tool_name ... ok
test test_bash_tool_schema ... ok
test test_bash_tool_multiple_env_vars ... ok
test test_bash_tool_command_timeout ... ok
test test_bash_tool_stderr ... ok
test test_bash_tool_nonzero_exit ... ok
test test_bash_tool_success ... ok
test test_bash_tool_with_args ... ok
test test_bash_tool_with_env ... ok
test test_bash_tool_with_timeout_override ... ok
test test_bash_tool_with_workspace ... ok
test test_bash_tool_with_working_dir ... ok
test test_bash_tool_auto_approved_commands ... ok
test test_bash_tool_with_timeout ... ok

test result: ok. 17 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 1.01s

     Running tests/canvas.rs (target/debug/deps/canvas-1919e4c42991f664)

running 30 tests
test test_canvas_tool_empty_canvas_id ... ok
test test_canvas_tool_with_special_characters ... ok
test test_canvas_tool_description ... ok
test test_canvas_tool_name ... ok
test test_canvas_tool_empty_content ... ok
test test_canvas_tool_schema ... ok
test test_canvas_tool_multiline_content ... ok
test test_canvas_tool_with_unicode ... ok
test test_create_canvas ... ok
test test_create_canvas_duplicate_id ... ok
test test_create_missing_content ... ok
test test_create_canvas_with_complex_content ... ok
test test_in_memory_renderer_create ... ok
test test_in_memory_renderer_create_duplicate ... ok
test test_in_memory_renderer_get ... ok
test test_in_memory_renderer_update ... ok
test test_in_memory_renderer_get_nonexistent ... ok
test test_in_memory_renderer_update_nonexistent ... ok
test test_invalid_operation ... ok
test test_missing_canvas_id ... ok
test test_missing_operation ... ok
test test_mock_renderer_get ... ok
test test_mock_renderer_update ... ok
test test_multiple_canvases ... ok
test test_retrieve_canvas ... ok
test test_retrieve_nonexistent_canvas ... ok
test test_update_nonexistent_canvas ... ok
test test_update_canvas ... ok
test test_with_mock_renderer ... ok
test test_update_missing_content ... ok

test result: ok. 30 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/cron.rs (target/debug/deps/cron-d51377684b2bf677)

running 30 tests
test test_cron_tool_description ... ok
test test_cron_tool_name ... ok
test test_cron_tool_schema ... ok
test test_invalid_operation ... ok
test test_cron_tool_with_complex_command ... ok
test test_cron_tool_with_special_characters ... ok
test test_list_jobs ... ok
test test_list_jobs_empty ... ok
test test_missing_operation ... ok
test test_noop_scheduler_list ... ok
test test_cron_expression_various_formats ... ok
test test_noop_scheduler_run ... ok
test test_noop_scheduler_remove ... ok
test test_list_with_mock_scheduler ... ok
test test_noop_scheduler_schedule ... ok
test test_remove_job ... ok
test test_multiple_operations_sequence ... ok
test test_remove_nonexistent_job ... ok
test test_remove_missing_job_id ... ok
test test_run_missing_job_id ... ok
test test_remove_with_mock_scheduler ... ok
test test_run_job ... ok
test test_schedule_missing_command ... ok
test test_run_with_mock_scheduler ... ok
test test_schedule_job_invalid_cron ... ok
test test_schedule_missing_cron_expression ... ok
test test_schedule_job ... ok
test test_schedule_with_mock_scheduler ... ok
test test_validate_cron_expression_invalid ... ok
test test_validate_cron_expression_valid ... ok

test result: ok. 30 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/file.rs (target/debug/deps/file-9b74a6f340a323c3)

running 16 tests
test test_file_tool_invalid_operation ... ok
test test_file_tool_description ... ok
test test_file_tool_missing_content_for_write ... ok
test test_file_tool_missing_operation ... ok
test test_file_tool_missing_path ... ok
test test_file_tool_name ... ok
test test_file_tool_schema ... ok
test test_file_tool_list_empty_directory ... ok
test test_file_tool_metadata ... ok
test test_file_tool_read_file ... ok
test test_file_tool_workspace_path_restriction ... ok
test test_file_tool_nested_directory ... ok
test test_file_tool_write_file ... ok
test test_file_tool_list_directory ... ok
test test_file_tool_search_nonexistent_pattern ... ok
test test_file_tool_search_glob ... ok

test result: ok. 16 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 32.46s

     Running tests/message.rs (target/debug/deps/message-d6a16df25c88e6fb)

running 15 tests
test test_message_tool_description ... ok
test test_message_tool_execute_success ... ok
test test_message_tool_empty_content ... ok
test test_message_tool_empty_channel ... ok
test test_message_tool_missing_channel ... ok
test test_message_tool_missing_content ... ok
test test_message_tool_name ... ok
test test_message_tool_schema ... ok
test test_message_tool_with_account_and_peer ... ok
test test_message_tool_special_characters ... ok
test test_message_tool_multiline_content ... ok
test test_message_tool_unicode_content ... ok
test test_message_tool_with_all_params ... ok
test test_noop_message_sender ... ok
test test_message_tool_with_mock_sender ... ok

test result: ok. 15 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/policy.rs (target/debug/deps/policy-af9520b2c805a1d7)

running 15 tests
test test_agent_policy_overrides_global_deny ... ok
test test_deny_takes_precedence_over_allow ... ok
test test_deny_precedence_message ... ok
test test_engine_default_is_unrestricted ... ok
test test_agent_deny_overrides_global_allow ... ok
test test_agent_allow_message ... ok
test test_agent_deny_message ... ok
test test_global_allow_list_allows_only_whitelisted_tools ... ok
test test_global_deny_list_blocks_tools ... ok
test test_multiple_agent_policies_independent ... ok
test test_global_deny_with_agent_allowlist_allows ... ok
test test_tool_policy_allow_list ... ok
test test_remove_agent_policy_falls_back_to_global ... ok
test test_tool_policy_default_is_unrestricted ... ok
test test_tool_policy_deny_list ... ok

test result: ok. 15 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/registry.rs (target/debug/deps/registry-154f857d794c0951)

running 11 tests
test test_get_nonexistent_tool ... ok
test test_new_registry_is_empty ... ok
test test_get_tool ... ok
test test_register_tool ... ok
test test_list_tools ... ok
test test_duplicate_registration_overwrites_with_warning ... ok
test test_register_all_builtins ... ok
test test_register_and_remove_all ... ok
test test_remove_nonexistent_tool ... ok
test test_remove_tool ... ok
test test_schemas ... ok

test result: ok. 11 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/sandbox_integration.rs (target/debug/deps/sandbox_integration-21d91f0634a70285)

running 9 tests
test test_network_isolation ... ignored
test test_no_workspace_mount ... ignored
test test_podman_sandbox_works ... ignored
test test_readonly_workspace_prevents_writes ... ignored
test test_resource_limits_enforced ... ignored
test test_sandbox_cannot_access_host_filesystem ... ignored
test test_timeout_kills_long_running_process ... ignored
test test_workspace_read_write_allows_writes ... ignored
test test_workspace_read_write_can_write_to_file ... ignored

test result: ok. 0 passed; 0 failed; 9 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/schema.rs (target/debug/deps/schema-38eeae2c4994800f)

running 11 tests
test test_empty_batch_conversion ... ok
test test_gemini_batch_conversion ... ok
test test_anthropic_batch_conversion ... ok
test test_to_anthropic_format_single_tool ... ok
test test_to_gemini_format_single_tool ... ok
test test_openai_batch_conversion ... ok
test test_to_openai_format_single_tool ... ok
test test_tool_definition_creation ... ok
test test_tool_definition_empty_description ... ok
test test_tool_definition_empty_name ... ok
test test_tool_definition_with_complex_parameters ... ok

test result: ok. 11 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/session.rs (target/debug/deps/session-fb35b4040bb79530)

running 30 tests
test test_session_tool_description ... ok
test test_session_tool_execute_invalid_operation ... ok
test test_session_tool_execute_list ... ok
test test_session_tool_execute_list_with_limit ... ok
test test_session_tool_execute_patch ... ok
test test_session_tool_execute_history_with_mock ... ok
test test_session_tool_execute_list_with_mock ... ok
test test_session_tool_execute_history ... ok
test test_session_tool_execute_send ... ok
test test_session_tool_history_missing_session_id ... ok
test test_session_tool_execute_patch_with_mock ... ok
test test_session_tool_missing_operation ... ok
test test_session_tool_execute_send_with_mock ... ok
test test_session_tool_multiline_message ... ok
test test_session_tool_list_with_limit ... ok
test test_session_tool_name ... ok
test test_session_tool_noop_manager_history ... ok
test test_session_tool_multiple_operations ... ok
test test_session_tool_noop_manager_list ... ok
test test_session_tool_noop_manager_patch ... ok
test test_session_tool_noop_manager_send ... ok
test test_session_tool_patch_missing_metadata ... ok
test test_session_tool_patch_missing_session_id ... ok
test test_session_tool_schema ... ok
test test_session_tool_send_empty_message ... ok
test test_session_tool_send_missing_message ... ok
test test_session_tool_session_info_new ... ok
test test_session_tool_special_characters_in_message ... ok
test test_session_tool_with_complex_metadata ... ok
test test_session_tool_send_missing_session_id ... ok

test result: ok. 30 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/subagent.rs (target/debug/deps/subagent-0c9fd9a5f1757c59)

running 23 tests
test test_subagent_tool_description ... ok
test test_subagent_tool_empty_model ... ok
test test_subagent_tool_depth_limit_enforcement ... ok
test test_subagent_tool_empty_agent_name ... ok
test test_subagent_tool_depth_limit_not_exceeded ... ok
test test_subagent_tool_empty_prompt ... ok
test test_subagent_tool_execute_success ... ok
test test_subagent_tool_missing_agent_name ... ok
test test_subagent_tool_missing_model ... ok
test test_subagent_tool_missing_prompt ... ok
test test_subagent_tool_model_allowlist_enforcement ... ok
test test_subagent_tool_model_allowlist_multiple_rejected ... ok
test test_subagent_tool_model_allowlist_rejection ... ok
test test_subagent_tool_name ... ok
test test_subagent_tool_schema ... ok
test test_subagent_tool_no_allowlist_allows_all ... ok
test test_subagent_tool_with_complex_prompt ... ok
test test_subagent_tool_with_max_depth_one ... ok
test test_subagent_tool_with_mock_spawner ... ok
test test_subagent_tool_with_custom_agent_name ... ok
test test_subagent_tool_with_workspace ... ok
test test_subagent_tool_with_multiline_prompt ... ok
test test_subagent_tool_with_empty_model_allowlist ... ok

test result: ok. 23 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests aisopod

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests aisopod_agent

running 4 tests
test crates/aisopod-agent/src/prompt.rs - prompt::SystemPromptBuilder (line 36) ... ignored
test crates/aisopod-agent/src/runner.rs - runner::AgentRunner (line 44) ... ignored
test crates/aisopod-agent/src/usage.rs - usage::UsageTracker (line 18) ... ignored
test crates/aisopod-agent/src/transcript.rs - transcript::repair_transcript (line 50) ... ok

test result: ok. 1 passed; 0 failed; 3 ignored; 0 measured; 0 filtered out; finished in 0.78s

   Doc-tests aisopod_channel

running 14 tests
test crates/aisopod-channel/src/channel.rs - channel::ChannelRegistry (line 35) ... ignored
test crates/aisopod-channel/src/lib.rs - (line 53) ... ignored
test crates/aisopod-channel/src/media.rs - media (line 13) ... ignored
test crates/aisopod-channel/src/media.rs - media::AudioTranscriber (line 50) ... ignored
test crates/aisopod-channel/src/media.rs - media::DocumentExtractor (line 86) ... ignored
test crates/aisopod-channel/src/media.rs - media::convert_image_format (line 184) ... ignored
test crates/aisopod-channel/src/media.rs - media::resize_image (line 133) ... ignored
test crates/aisopod-channel/src/security.rs - security (line 18) ... ignored
test crates/aisopod-channel/src/security.rs - security (line 43) ... ignored
test crates/aisopod-channel/src/security.rs - security::SecurityEnforcer (line 116) ... ignored
test crates/aisopod-channel/src/security.rs - security::SecurityEnforcer::check_dm_policy (line 311) ... ignored
test crates/aisopod-channel/src/security.rs - security::SecurityEnforcer::check_mention (line 248) ... ignored
test crates/aisopod-channel/src/security.rs - security::SecurityEnforcer::check_sender (line 185) ... ignored
test crates/aisopod-channel/src/util/errors.rs - util::errors::ChannelError (line 24) ... ok

test result: ok. 1 passed; 0 failed; 13 ignored; 0 measured; 0 filtered out; finished in 0.41s

   Doc-tests aisopod_channel_discord

running 1 test
test crates/aisopod-channel-discord/src/embeds.rs - embeds::EmbedBuilder (line 41) ... ignored

test result: ok. 0 passed; 0 failed; 1 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests aisopod_channel_googlechat

running 4 tests
test crates/aisopod-channel-googlechat/src/lib.rs - (line 21) ... ignored
test crates/aisopod-channel-googlechat/src/lib.rs - (line 38) ... ignored
test crates/aisopod-channel-googlechat/src/lib.rs - (line 55) ... ignored
test crates/aisopod-channel-googlechat/src/lib.rs - (line 76) ... ignored

test result: ok. 0 passed; 0 failed; 4 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests aisopod_channel_imessage

running 3 tests
test crates/aisopod-channel-imessage/src/applescript.rs - applescript::ApplescriptBackend (line 40) - compile ... ok
test crates/aisopod-channel-imessage/src/channel.rs - channel::ImessageChannel (line 90) - compile ... ok
test crates/aisopod-channel-imessage/src/lib.rs - (line 22) - compile ... ok

test result: ok. 3 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.07s

   Doc-tests aisopod_channel_irc

running 1 test
test crates/aisopod-channel-irc/src/lib.rs - (line 19) - compile ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.08s

   Doc-tests aisopod_channel_lark

running 1 test
test crates/aisopod-channel-lark/src/lib.rs - (line 16) ... ignored

test result: ok. 0 passed; 0 failed; 1 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests aisopod_channel_line

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests aisopod_channel_matrix

running 2 tests
test crates/aisopod-channel-matrix/src/channel.rs - channel (line 17) - compile ... ok
test crates/aisopod-channel-matrix/src/lib.rs - (line 18) - compile ... ok

test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.09s

   Doc-tests aisopod_channel_mattermost

running 1 test
test crates/aisopod-channel-mattermost/src/lib.rs - (line 19) - compile ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.08s

   Doc-tests aisopod_channel_msteams

running 3 tests
test crates/aisopod-channel-msteams/src/lib.rs - (line 26) ... ignored
test crates/aisopod-channel-msteams/src/lib.rs - (line 83) ... ignored
test crates/aisopod-channel-msteams/src/lib.rs - (line 98) ... ignored

test result: ok. 0 passed; 0 failed; 3 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests aisopod_channel_nextcloud

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests aisopod_channel_nostr

running 1 test
test crates/aisopod-channel-nostr/src/lib.rs - (line 19) - compile ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.08s

   Doc-tests aisopod_channel_signal

running 2 tests
test crates/aisopod-channel-signal/src/lib.rs - (line 25) - compile ... ok
test crates/aisopod-channel-signal/src/lib.rs - (line 75) ... ok

test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.86s

   Doc-tests aisopod_channel_slack

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests aisopod_channel_telegram

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests aisopod_channel_test_channel

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests aisopod_channel_twitch

running 4 tests
test crates/aisopod-channel-twitch/src/auth.rs - auth::validate_token (line 61) - compile ... ok
test crates/aisopod-channel-twitch/src/lib.rs - (line 18) - compile ... ok
test crates/aisopod-channel-twitch/src/badges.rs - badges::parse_badges (line 42) ... ok
test crates/aisopod-channel-twitch/src/badges.rs - badges::parse_badge_info (line 134) ... ok

test result: ok. 4 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 1.08s

   Doc-tests aisopod_channel_utils

running 6 tests
test crates/aisopod-channel-utils/src/lib.rs - (line 19) ... ignored
test crates/aisopod-channel-utils/src/lib.rs - (line 39) ... ignored
test crates/aisopod-channel-utils/src/lib.rs - (line 51) ... ignored
test crates/aisopod-channel-utils/src/lib.rs - (line 63) ... ignored
test crates/aisopod-channel-utils/src/lib.rs - (line 87) ... ignored
test crates/aisopod-channel-utils/src/markdown.rs - markdown::convert (line 1016) ... ok

test result: ok. 1 passed; 0 failed; 5 ignored; 0 measured; 0 filtered out; finished in 0.27s

   Doc-tests aisopod_channel_whatsapp

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests aisopod_channel_zalo

running 1 test
test crates/aisopod-channel-zalo/src/lib.rs - (line 26) - compile ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.08s

   Doc-tests aisopod_client

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests aisopod_config

running 4 tests
test crates/aisopod-config/src/generate.rs - generate::generate_default_config (line 36) - compile ... ok
test crates/aisopod-config/src/includes.rs - includes::process_includes (line 35) ... ok
test crates/aisopod-config/src/watcher.rs - watcher::diff_sections (line 242) ... ok
test crates/aisopod-config/src/env.rs - env::expand_env_vars (line 26) ... ok

test result: ok. 4 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.36s

   Doc-tests aisopod_gateway

running 2 tests
test crates/aisopod-gateway/src/ws/version.rs - ws::version::ProtocolVersion::is_compatible_with (line 57) ... ok
test crates/aisopod-gateway/src/ws/version.rs - ws::version::negotiate_version (line 134) ... ok

test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 1.20s

   Doc-tests aisopod_memory

running 3 tests
test crates/aisopod-memory/src/integration.rs - integration::build_memory_context (line 34) ... ignored
test crates/aisopod-memory/src/pipeline.rs - pipeline::MemoryQueryPipeline (line 25) ... ignored
test crates/aisopod-memory/src/lib.rs - (line 15) ... ok

test result: ok. 1 passed; 0 failed; 2 ignored; 0 measured; 0 filtered out; finished in 0.23s

   Doc-tests aisopod_plugin

running 59 tests
test crates/aisopod-plugin/src/abi.rs - abi (line 17) ... ignored
test crates/aisopod-plugin/src/api.rs - api::PluginApi (line 26) ... ignored
test crates/aisopod-plugin/src/builtin.rs - builtin::list_available_builtins (line 275) ... ignored
test crates/aisopod-plugin/src/builtin.rs - builtin::register_builtin_plugins (line 30) ... ignored
test crates/aisopod-plugin/src/command.rs - command::PluginCommand (line 16) ... ignored
test crates/aisopod-plugin/src/commands.rs - commands::CommandRegistry (line 34) ... ignored
test crates/aisopod-plugin/src/commands.rs - commands::CommandRegistry::auth_command_count (line 330) ... ignored
test crates/aisopod-plugin/src/commands.rs - commands::CommandRegistry::clear (line 395) ... ignored
test crates/aisopod-plugin/src/commands.rs - commands::CommandRegistry::command_count (line 257) ... ignored
test crates/aisopod-plugin/src/commands.rs - commands::CommandRegistry::execute (line 162) ... ignored
test crates/aisopod-plugin/src/commands.rs - commands::CommandRegistry::get_command (line 374) ... ignored
test crates/aisopod-plugin/src/commands.rs - commands::CommandRegistry::has_command (line 224) ... ignored
test crates/aisopod-plugin/src/commands.rs - commands::CommandRegistry::list_commands (line 300) ... ignored
test crates/aisopod-plugin/src/commands.rs - commands::CommandRegistry::new (line 72) ... ignored
test crates/aisopod-plugin/src/commands.rs - commands::CommandRegistry::register (line 103) ... ignored
test crates/aisopod-plugin/src/config.rs - config (line 14) ... ignored
test crates/aisopod-plugin/src/config.rs - config (line 42) ... ignored
test crates/aisopod-plugin/src/config.rs - config::ConfigReloadable (line 364) ... ignored
test crates/aisopod-plugin/src/config.rs - config::PluginConfig::from_main_config (line 291) ... ignored
test crates/aisopod-plugin/src/dynamic.rs - dynamic (line 17) ... ignored
test crates/aisopod-plugin/src/dynamic.rs - dynamic::DynamicPluginLoader::discover (line 168) ... ignored
test crates/aisopod-plugin/src/dynamic.rs - dynamic::DynamicPluginLoader::load_plugin (line 262) ... ignored
test crates/aisopod-plugin/src/dynamic.rs - dynamic::DynamicPluginLoader::new (line 142) ... ignored
test crates/aisopod-plugin/src/dynamic.rs - dynamic::library_filename (line 458) ... ignored
test crates/aisopod-plugin/src/hook.rs - hook::HookRegistry (line 146) ... ignored
test crates/aisopod-plugin/src/lib.rs - (line 100) ... ignored
test crates/aisopod-plugin/src/lib.rs - (line 39) ... ignored
test crates/aisopod-plugin/src/manifest.rs - manifest (line 34) ... ignored
test crates/aisopod-plugin/src/manifest.rs - manifest::PluginManifest::from_file (line 185) ... ignored
test crates/aisopod-plugin/src/manifest.rs - manifest::PluginManifest::from_str (line 209) ... ignored
test crates/aisopod-plugin/src/registry.rs - registry::PluginRegistry (line 55) ... ignored
test crates/aisopod-plugin/src/registry.rs - registry::PluginRegistry::get (line 227) ... ignored
test crates/aisopod-plugin/src/registry.rs - registry::PluginRegistry::init_all (line 283) ... ignored
test crates/aisopod-plugin/src/registry.rs - registry::PluginRegistry::list (line 250) ... ignored
test crates/aisopod-plugin/src/registry.rs - registry::PluginRegistry::register (line 166) ... ignored
test crates/aisopod-plugin/src/registry.rs - registry::PluginRegistry::shutdown_all (line 326) ... ignored
test crates/aisopod-plugin/src/skills/discovery.rs - skills::discovery::discover_skill_dirs (line 59) ... ignored
test crates/aisopod-plugin/src/skills/discovery.rs - skills::discovery::load_skills (line 228) ... ignored
test crates/aisopod-plugin/src/skills/discovery.rs - skills::discovery::validate_requirements (line 110) ... ignored
test crates/aisopod-plugin/src/skills/manifest.rs - skills::manifest::parse_manifest (line 173) ... ignored
test crates/aisopod-plugin/src/skills/mod.rs - skills (line 33) ... ignored
test crates/aisopod-plugin/src/skills/mod.rs - skills::merge_skill_prompts (line 125) ... ignored
test crates/aisopod-plugin/src/skills/registry.rs - skills::registry::SkillRegistry (line 42) ... ignored
test crates/aisopod-plugin/src/skills/registry.rs - skills::registry::SkillRegistry::assign_to_agent (line 176) ... ignored
test crates/aisopod-plugin/src/skills/registry.rs - skills::registry::SkillRegistry::get (line 137) ... ignored
test crates/aisopod-plugin/src/skills/registry.rs - skills::registry::SkillRegistry::list (line 154) ... ignored
test crates/aisopod-plugin/src/skills/registry.rs - skills::registry::SkillRegistry::register (line 115) ... ignored
test crates/aisopod-plugin/src/skills/registry.rs - skills::registry::SkillRegistry::set_status (line 245) ... ignored
test crates/aisopod-plugin/src/skills/registry.rs - skills::registry::SkillRegistry::skills_for_agent (line 195) ... ignored
test crates/aisopod-plugin/src/skills/registry.rs - skills::registry::SkillRegistry::status (line 223) ... ignored
test crates/aisopod-plugin/src/skills/scaffold.rs - skills::scaffold::scaffold_skill (line 36) ... ignored
test crates/aisopod-plugin/src/skills/scaffold.rs - skills::scaffold::to_pascal_case (line 194) ... ignored
test crates/aisopod-plugin/src/skills/trait.rs - skills::r#trait::Skill (line 35) ... ignored
test crates/aisopod-plugin/src/skills/trait.rs - skills::r#trait::Skill::init (line 157) ... ignored
test crates/aisopod-plugin/src/skills/trait.rs - skills::r#trait::Skill::system_prompt_fragment (line 105) ... ignored
test crates/aisopod-plugin/src/skills/trait.rs - skills::r#trait::Skill::tools (line 128) ... ignored
test crates/aisopod-plugin/src/trait.rs - r#trait::Plugin (line 30) ... ignored
test crates/aisopod-plugin/src/security.rs - security::validate_command_name (line 115) ... ok
test crates/aisopod-plugin/src/security.rs - security::sanitize_argument (line 176) ... ok

test result: ok. 2 passed; 0 failed; 57 ignored; 0 measured; 0 filtered out; finished in 1.08s

   Doc-tests aisopod_provider

running 7 tests
test crates/aisopod-provider/src/lib.rs - (line 39) ... ignored
test crates/aisopod-provider/src/providers/ollama.rs - providers::ollama::OllamaProvider (line 20) ... ignored
test crates/aisopod-provider/src/registry.rs - registry::ProviderRegistry (line 38) ... ignored
test crates/aisopod-provider/src/trait_module.rs - trait_module::ModelProvider (line 28) ... ignored
test crates/aisopod-provider/src/normalize.rs - normalize::enforce_alternating_turns (line 240) ... ok
test crates/aisopod-provider/src/normalize.rs - normalize::aggregate_usage (line 380) ... ok
test crates/aisopod-provider/src/normalize.rs - normalize::extract_system_prompt (line 321) ... ok

test result: ok. 3 passed; 0 failed; 4 ignored; 0 measured; 0 filtered out; finished in 0.97s

   Doc-tests aisopod_provider_anthropic

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests aisopod_provider_openai

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests aisopod_session

running 2 tests
test crates/aisopod-session/src/store.rs - store::SessionStore (line 23) ... ignored
test crates/aisopod-session/src/types.rs - types::SessionKey (line 20) ... ignored

test result: ok. 0 passed; 0 failed; 2 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests aisopod_shared

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests aisopod_tools

running 21 tests
test crates/aisopod-tools/src/approval.rs - approval (line 25) ... ignored
test crates/aisopod-tools/src/lib.rs - (line 26) ... ignored
test crates/aisopod-tools/src/policy.rs - policy (line 15) ... ignored
test crates/aisopod-tools/src/policy.rs - policy::ToolPolicy (line 59) ... ignored
test crates/aisopod-tools/src/policy.rs - policy::ToolPolicyEngine (line 158) ... ignored
test crates/aisopod-tools/src/policy.rs - policy::ToolPolicyEngine::is_allowed (line 266) ... ignored
test crates/aisopod-tools/src/registry.rs - registry (line 9) ... ignored
test crates/aisopod-tools/src/registry.rs - registry::ToolRegistry (line 55) ... ignored
test crates/aisopod-tools/src/registry.rs - registry::ToolRegistry::get (line 125) ... ignored
test crates/aisopod-tools/src/registry.rs - registry::ToolRegistry::list (line 141) ... ignored
test crates/aisopod-tools/src/registry.rs - registry::ToolRegistry::register (line 96) ... ignored
test crates/aisopod-tools/src/registry.rs - registry::ToolRegistry::remove (line 199) ... ignored
test crates/aisopod-tools/src/registry.rs - registry::ToolRegistry::schemas (line 169) ... ignored
test crates/aisopod-tools/src/schema.rs - schema (line 15) ... ignored
test crates/aisopod-tools/src/schema.rs - schema::to_anthropic_batch (line 191) ... ignored
test crates/aisopod-tools/src/schema.rs - schema::to_anthropic_format (line 86) ... ignored
test crates/aisopod-tools/src/schema.rs - schema::to_gemini_batch (line 247) ... ignored
test crates/aisopod-tools/src/schema.rs - schema::to_gemini_format (line 163) ... ignored
test crates/aisopod-tools/src/schema.rs - schema::to_openai_batch (line 219) ... ignored
test crates/aisopod-tools/src/schema.rs - schema::to_openai_format (line 125) ... ignored
test crates/aisopod-tools/src/approval.rs - approval::is_auto_approved (line 637) ... ok

test result: ok. 1 passed; 0 failed; 20 ignored; 0 measured; 0 filtered out; finished in 0.26s

